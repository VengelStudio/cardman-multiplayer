(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){},128:function(e,t){},131:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(52),s=n.n(o),i=n(11),c=n(2),l=n(3),u=n(5),p=n(4),d=n(6),m=(n(73),function(e){var t=e.title,n=void 0===t?null:t,a=e.score,o=void 0===a?null:a;return r.a.createElement("div",{className:"column auto has-background-dark header"},o&&r.a.createElement("div",{className:"title has-text-white-ter"},r.a.createElement("div",{className:"scoreHeader"},r.a.createElement("div",{className:"flex-item me"},r.a.createElement("span",null,o.me)),r.a.createElement("div",{className:"flex-item score"},r.a.createElement("span",null,"".concat(o.myScore,":").concat(o.enemyScore))),r.a.createElement("div",{className:"flex-item enemy"},r.a.createElement("span",null,o.enemy)))),n&&r.a.createElement("h1",{className:"title has-text-white-ter"},n))}),v=n(13),h=n.n(v),f=n(53),y=n(54),E=n(55),g=n(86).roundAndConvertVolume,b=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){"sound-slider-thumb"===e.target.id?n.props.setSettings({soundVol:g(e.target.value),musicVol:n.props.volumeSettings.musicVol}):"music-slider-thumb"===e.target.id&&n.props.setSettings({soundVol:n.props.volumeSettings.soundVol,musicVol:g(e.target.value)})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=100*this.props.volumeSettings.soundVol,n=100*this.props.volumeSettings.musicVol;return r.a.createElement("div",{className:"options-btn"},r.a.createElement("div",{className:"gear-icon-wrapper"},r.a.createElement(h.a,{icon:E.cog,size:32,className:"gear-icon"})),r.a.createElement("div",{className:"dropdown-options border-neon border-neon-translucent"},r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("div",{className:"options-items"},r.a.createElement("div",{className:"options-item"},r.a.createElement(h.a,{className:"options-icon",icon:f.volume_2,size:32}),r.a.createElement("span",{className:"options-item-description"},"Sound volume: ".concat(t,"%")),r.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},r.a.createElement("input",{type:"range",min:"0",max:"100",id:"sound-slider-thumb",className:"options-slider slider",value:t,onChange:function(t){return e.onChange(t)}}))),r.a.createElement("div",{className:"options-item"},r.a.createElement(h.a,{className:"options-icon",icon:y.note,size:32}),r.a.createElement("span",{className:"options-item-description"},"Music volume: ".concat(n,"%")),r.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},r.a.createElement("input",{type:"range",min:"0",max:"100",id:"music-slider-thumb",className:"options-slider slider",value:n,onChange:function(t){return e.onChange(t)}})))))))}}]),t}(a.Component),k=(n(87),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row header width-full semi-bold bg-dark color-lightblue padding-sm height-sm text-lg content-hcenter content-vcenter"},r.a.createElement(b,{volumeSettings:this.props.volumeSettings,setSettings:this.props.setSettings}),r.a.createElement(m,{title:this.props.title,score:this.props.score}))}}]),t}(a.Component)),I=n(14),N=n(19),O=function(e){return console.log(e.popupData.content),r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null,e.popupData.title),r.a.createElement("button",{onClick:function(){e.popupData.onClose(e.popupData.id)},className:"btn-popup-close"},r.a.createElement(v.Icon,{icon:N.cross,size:"1.6vh",className:"close-icon"}))),r.a.createElement("div",{className:"generic-popup-content",dangerouslySetInnerHTML:{__html:e.popupData.content}}))},C=function(e){var t=function(){e.popupData.onConfirm(),e.popupData.onClose(e.popupData.id)};return r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito bg-khaki"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null,e.popupData.title),r.a.createElement("button",{onClick:t,className:"btn-popup-close"},r.a.createElement(v.Icon,{icon:N.cross,size:"1.6vh",className:"close-icon"}))),r.a.createElement("div",{className:"generic-popup-content"},r.a.createElement("div",null,e.popupData.content),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"border-neon border-neon-lime",onClick:function(){t()}},r.a.createElement("span",null,"OK")))))},D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).timeInterval=null,n.state={time:n.props.time,wrapperStyle:{},circleStyle:{animation:"countdown ".concat(n.props.time,"s linear 1 forwards")},propsStyle:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeInterval=setInterval(function(){e.setState(function(e){return{time:e.time-1}},function(){0===e.state.time&&(clearInterval(e.timeInterval),e.props.onEnd&&e.props.onEnd(),e.setState({style:Object(i.a)({display:"none"},e.state.style)}))})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeInterval)}},{key:"render",value:function(){return r.a.createElement("div",{style:this.state.wrapperStyle,className:"timer"},r.a.createElement("div",{id:"timer-number"},this.state.time),r.a.createElement("svg",{className:"timer-svg"},r.a.createElement("circle",{style:this.state.circleStyle,r:"18",cx:"20",cy:"20"})))}}]),t}(a.Component),S=function(e){var t=function(t){t?e.popupData.onAccept():e.popupData.onDecline(),e.popupData.onClose(e.popupData.id)},n="You have been invited by ".concat(e.popupData.nickname,".");return r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito bg-khaki"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null,"New game invitation!")),r.a.createElement("div",{className:"invitation-popup-content"},r.a.createElement("div",{className:"msg"},n),r.a.createElement(D,{time:10,onEnd:function(){e.popupData.onDecline(),e.popupData.onClose(e.popupData.id)}}),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"border-neon border-neon-lime",onClick:function(){t(!0)}},r.a.createElement("span",null,"Accept")),r.a.createElement("button",{className:"border-neon border-neon-orange",onClick:function(){t(!1)}},r.a.createElement("span",null,"Decline")))))},P=function(){return r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"disconnected-popup-content"},r.a.createElement("div",{className:"msg"},"You have been disconnected from the server."),r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("span",{className:"fa fa-spinner fa-spin fa-3x"})),r.a.createElement("div",{className:"msg"},"Trying to reconnect...")))},T=function(e){return r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null),r.a.createElement("button",{onClick:function(){e.popupData.onClose(e.popupData.id)},className:"btn-popup-close"},r.a.createElement(v.Icon,{icon:N.cross,size:"1.6vh",className:"close-icon"}))),r.a.createElement("div",{className:"lookup-card-wrapper"},r.a.createElement("img",{className:"lookup-card-display",src:"images/cards/".concat(e.popupData.cardId,".svg"),alt:"Card"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.popupData.description}})))},M=n(9),_=(n(88),n(20)),A=n.n(_),R=n(56),w=n.n(R),j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={popups:[],newPopup:null},n.components={POPUP_GENERIC:O,POPUP_CONFIRMATION:C,POPUP_INVITATION:S,POPUP_DISCONNECTED:P,POPUP_CARD:T},n.onClose=function(e){var t=n.state.popups.filter(function(t){return t.popupData.id!==e});n.setState({popups:t})},n.Popup=function(e){var t=e.type,a=e.popupData,o=n.components[t];return r.a.createElement(o,{key:a.id,popupData:Object(i.a)({},a,{onClose:n.onClose})})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=0===this.state.popups.length?"none":"flex";return r.a.createElement("div",{style:{display:t},className:"popups-wrapper"},!0===this.props.isDisconnected?r.a.createElement(P,null):null,this.state.popups&&this.state.popups.map(function(t,n){return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(e.Popup,{key:n,type:t.type,popupData:t.popupData}),r.a.createElement(A.a,{volume:e.props.soundVolume,src:w.a,autoPlay:!0}))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.newPopup!==e.newPopup&&e.newPopup?{newPopup:e.newPopup,popups:[].concat(Object(I.a)(t.popups),[e.newPopup])}:null}}]),t}(a.Component),U=n(139),x=(n(89),n(35),function(e){var t=e.id,n=e.isMine,a=e.isUsed,o=e.isDisabled,s=e.isBlocked,i=e.isDiscardEnabled,c="card-image ";return(a||o||s||i)&&(c+="card-image-used "),n?r.a.createElement("img",{draggable:!o,onMouseDown:function(){return!o},className:c,src:"images/cards/".concat(t,".svg"),alt:"Playing card."}):r.a.createElement("img",{draggable:"false",onMouseDown:function(){return!1},style:{userDrag:"none"},className:"".concat(c," default-pointer"),src:"images/cards/placeholder.svg",alt:"Playing card."})}),V=function(e){var t=e.description;return e.displayTooltip?r.a.createElement("div",{className:"card-info",dangerouslySetInnerHTML:{__html:t}}):null},H=function(e){var t=e.isUsed,n=e.isDisabled,a=e.isBlocked,o=e.onClick,s=e.isDiscardEnabled,i=e.onDiscard;return t?r.a.createElement("button",{className:"card-use-abort-button",onClick:o},r.a.createElement("div",null,r.a.createElement("span",null,"Click to abort"))):n?r.a.createElement("div",{className:"card-disabled"},r.a.createElement("span",null,"This card doesn't meet the conditions. Check the description.")):a?r.a.createElement("div",{className:"card-disabled"},r.a.createElement("span",null,"This card is disabled.")):s?r.a.createElement("button",{className:"card-discard-button",onClick:i},r.a.createElement("div",null,r.a.createElement("span",null,"Click to discard"))):null},G=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).cardClasses=function(){var e="card ";return n.props.isMine&&(e+="hover-pointer"),e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.cardClasses()},r.a.createElement(x,{id:this.props.card.id,isDisabled:this.props.isDisabled,isMine:this.props.isMine,isUsed:this.props.isUsed,isBlocked:this.props.isBlocked,isDiscardEnabled:this.props.isDiscardEnabled}),r.a.createElement(H,{isDiscardEnabled:this.props.isDiscardEnabled,isDisabled:this.props.isDisabled,isUsed:this.props.isUsed,isBlocked:this.props.isBlocked,onClick:function(){e.props.onUseAbort()},onDiscard:function(){e.props.onDiscard(e.props.index)}}),r.a.createElement(V,{description:this.props.card.description,displayTooltip:this.props.displayTooltip}))}}]),t}(a.Component),L=n(25),Y=n(57),F=n.n(Y),W=n(58),B=n.n(W),K=n(36).Cards,z=function(e){function t(){var e,n,a=this;Object(c.a)(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={displayTooltip:n.props.areMine},n.getBg=function(){return n.props.move?{animationName:"moveFlashing",animationDuration:"400ms",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate-reverse",animationFillMode:"forwards"}:null},n.GenerateCard=function(e){var t=e.card,a=e.isMine,o=e.index,s=e.isDisabled,i=e.blockCounter;if(a){var c=n.props.usedCardIndexes[o],l=JSON.stringify({cardId:t.id,index:o}),u=!1;return i>0&&i<=2&&(u=!0),r.a.createElement(L.Draggable,{enabled:a&&!c&&!s&&!u,onDragStart:function(){n.setState({displayTooltip:!1}),n.props.playSound(F.a),n.props.setCardTargetHighlight(!0)},onDragEnd:function(){n.setState({displayTooltip:!0}),n.props.playSound(B.a),n.props.setCardTargetHighlight(!1)},type:"card",data:l},r.a.createElement("li",null,r.a.createElement(G,{isDisabled:s,isBlocked:u,index:o,card:t,displayTooltip:n.state.displayTooltip,isDiscardEnabled:n.props.isDiscardEnabled,isMine:a,isUsed:c,onUseAbort:function(){n.props.onUseAbort(o)},onDiscard:function(e){n.props.move&&n.props.onDiscard(e,t.id)}})))}return r.a.createElement("li",null,r.a.createElement(G,{card:t,displayTooltip:n.state.displayTooltip,isMine:a}))},n.CardsSpawner=function(){var e=n.props,t=e.cards,o=e.areMine,s=e.player,i=e.game,c=0;return null!==i&&(c=i.blockCounters[s.socketId]),null!==t?t.map(function(e,t){var n=K[e.id];return r.a.createElement(a.GenerateCard,{card:e,index:t,key:t,isMine:o,isDisabled:!n.doesMeetConditions(i,s),blockCounter:c})}):null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cards",style:this.getBg()},r.a.createElement("span",{className:"cards-title"},this.props.title&&this.props.title),r.a.createElement("div",{className:"cards-wrapper"},r.a.createElement("ul",null,r.a.createElement(this.CardsSpawner,null))))}}]),t}(a.Component),J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){n.props.onClick(),n.props.moveHandler({move:{type:"key",key:n.props.letter,playerSocketId:n.props.player.socketId}})},n.getStyle=function(){var e=null;return e={backgroundColor:"#519C3F"},n.props.isUsed&&(e={backgroundColor:"#555",textDecoration:"none"}),n.props.isClicked&&(e=Object(i.a)({},e,{borderWidth:"0.3vh",borderStyle:"solid",borderColor:"orange"})),e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{style:this.getStyle(),onClick:this.clickHandler,className:"key"},this.props.letter)}}]),t}(a.Component),Z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={clickedIndex:null},n.generateKeys=function(){for(var e=[],t=function(t){var a=String.fromCharCode(t).toUpperCase(),o=n.props.keys.filter(function(e){return e.playerSocketId===n.props.player.socketId}),s=(o=o.map(function(e){return e.key})).includes(a),i=n.props.clickedIndex===t;e.push(r.a.createElement(J,{moveHandler:n.props.moveHandler,onClick:function(){return e=t,void(n.props.clickedIndex===e?n.props.setSelectedKey(null):n.props.setSelectedKey(e));var e},key:t,player:n.props.player,letter:a,isUsed:s,isClicked:i}))},a=65;a<=90;a++)t(a);return e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"keyboard border-neon border-light-translucent"},this.generateKeys().map(function(e){return e}))}}]),t}(a.Component),q=function(e){var t=e.side;return r.a.createElement("div",{className:"state-chains "+t},r.a.createElement("span",null,"Cards blocked for ".concat(e.state," turns.")))},Q=function(e){var t=e.side,n=-1*e.state;return r.a.createElement("div",{className:"state-shield "+t},r.a.createElement("span",null,"Immune to block cards for ".concat(n," turns.")))},X=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).getIcon=function(e,t){return e>0?r.a.createElement(q,{state:e,side:t}):e<0?r.a.createElement(Q,{state:e,side:t}):null},n.getPlayerState=function(e){var t=n.props,a=t.game,r=t.player;if(null===r||null===a)return null;if(e)return n.getIcon(a.blockCounters[r.socketId],"left-1vh");var o=a.playerSockets.filter(function(e){return e.socketId!==r.socketId})[0].socketId;return n.getIcon(a.blockCounters[o],"right-1vh")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"player-state"},this.getPlayerState(!0),this.getPlayerState(!1))}}]),t}(a.Component),$=(n(93),n(59)),ee=n.n($),te=n(60),ne=n.n(te),ae=n(61),re=n.n(ae),oe=n(36).Cards,se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={keyMove:null,cardMoves:[],clickedIndex:null,isDiscardEnabled:!1},n.setSelectedKey=function(e){n.props.playSound(re.a),n.setState({clickedIndex:e})},n.colorDisplayWord=function(e){e=e.toUpperCase();var t=[],a=n.props.game.guessed,o=n.props.player.socketId;return Array.from(e).forEach(function(e,n){var s=null;"_"!==e&&" "!==e&&(s=a.filter(function(t){return t.key===e})[0].playerSocketId===o?{color:"#0900ff"}:{color:"#b92e34"});t.push(r.a.createElement("span",{key:n,style:s},e))}),t},n.onDrop=function(e){if(n.props.move){var t=JSON.parse(e.card),a={index:t.index,type:"card",card:t.cardId,playerSocketId:n.props.player.socketId},r=n.props.usedCardIndexes;r[t.index]=!0,n.props.updateUsedCardIndexes(r),!1===n.state.cardMoves.some(function(e){return e.index===t.index})&&(setTimeout(function(){n.props.playSound(ee.a)},100),n.setState({cardMoves:[].concat(Object(I.a)(n.state.cardMoves),[a])}))}},n.onMove=function(e){var t=e.move;n.props.move&&n.setState({keyMove:t})},n.onEndTurn=function(){if(null!==n.state.keyMove||n.state.cardMoves.length>0){if(n.props.move){var e=[],t=n.state,a=t.keyMove,r=t.cardMoves;null!==a&&e.push(a),r!==[]&&(e=[].concat(Object(I.a)(e),Object(I.a)(r))),n.props.moveHandler({moves:e}),n.setSelectedKey(null),n.props.updateUsedCardIndexes({0:!1,1:!1,2:!1}),n.setState({keyMove:null,cardMoves:[]}),n.props.playSound(ne.a),r.forEach(function(e){if(e.card===oe.DEFINITION_CARD.id){var t=n.props.game.word.definitions,a=Math.floor(Math.random()*t.length);n.props.addPopup({popupData:{title:"Word definition",content:t[a]}})}else if(e.card===oe.LOOK_UP_CARD.id){var r=n.props.game.playerSockets.filter(function(e){return e.socketId!==n.props.player.socketId})[0].socketId,o=n.props.game.cards[r],s=o[Math.floor(Math.random()*o.length)].id,i=oe[s].description;n.props.addPopup({type:M.POPUP_CARD,popupData:{cardId:s,description:i}})}})}}else n.props.addPopup({popupData:{title:"You need to move",content:"You can't move without making any choice."}})},n.endTurnButton=function(){var e="Waiting...";n.props.move&&(e="End turn");var t="end-turn-btn button-pointer border-neon border-light-translucent ";return n.props.move&&(t+="end-turn-btn-hover"),r.a.createElement("button",{onClick:n.onEndTurn,disabled:!n.props.move,className:t},e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];null!==this.props.game&&(e=this.colorDisplayWord(this.props.game.displayWord));var t="word border-neon border-neon-violet ";return this.props.isCardTargetHighlight&&this.props.move&&(t+="word-glow"),r.a.createElement("div",{className:"content"},r.a.createElement(X,{player:this.props.player,game:this.props.game}),r.a.createElement("div",{className:"timer-wrapper"},this.props.move&&r.a.createElement(D,{time:30,onEnd:this.props.onMoveTimeout})),r.a.createElement("div",{className:"game"},r.a.createElement(L.Droppable,{types:["card"],onDrop:this.onDrop},r.a.createElement("div",{className:t},e.map(function(e){return e}))),r.a.createElement("div",{className:"keyboard-wrapper"},r.a.createElement(this.endTurnButton,null),this.props.game&&r.a.createElement(Z,{player:this.props.player,moveHandler:this.onMove,keys:this.props.game.keys,setSelectedKey:this.setSelectedKey,clickedIndex:this.state.clickedIndex}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.cardMoves;return Object.keys(e.usedCardIndexes).forEach(function(t){t=parseInt(t),!1===e.usedCardIndexes[t]&&(n=n.filter(function(e){return e.index!==t}))}),{cardMoves:n}}}]),t}(a.Component),ie=n(18).isMove,ce=n(94).winHandler,le=n(18).setScore,ue=n(8),pe=ue.GAME_MOVE,de=ue.WIN,me=n(37).Result,ve=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={game:n.props.game,gameFromProps:!0,allowMove:!0,myCards:null,enemyCards:null,cardTargetHighlight:!1,usedCardIndexes:{0:!1,1:!1,2:!1},soundSrc:"",isDiscardEnabled:!1,discardMoves:[]},n.initializeSocket=function(){var e=n.props.socket;e.on(pe,function(e){var t=e.game;n.setState({game:t},function(){n.props.setMove(ie({game:n.state.game,player:n.props.player}))})}),e.on(de,function(e){var t=e.winner,a=e.score,r=e.type,o=e.game;r!==me.TURN_WIN&&r!==me.TURN_TIE||n.props.addPopup({popupData:{title:"Guessed word",content:n.state.game.word.word}});var s=ce({type:r,setScore:le,score:a,game:o,winner:t,props:n.props,returnToMenu:function(){n.props.history.push("/browser")}});n.setState(Object(i.a)({},s))})},n.moveHandler=function(e){var t=e.moves,a=void 0===t?null:t;if(!0===n.state.allowMove){var r=n.props.socket;console.log(a),console.log(n.state.discardMoves);var o=[].concat(Object(I.a)(a),Object(I.a)(n.state.discardMoves));console.log(o),r.emit(pe,{game:n.state.game,moves:o})}},n.onMoveTimeout=function(){n.moveHandler({moves:[{type:"key",key:"",playerSocketId:n.props.player.socketId}]})},n.setCardTargetHighlight=function(e){n.setState({cardTargetHighlight:e})},n.updateUsedCardIndexes=function(e){n.setState({usedCardIndexes:e})},n.onUseAbort=function(e){var t=n.state.usedCardIndexes;t[e]=!1,n.updateUsedCardIndexes(t)},n.playSound=function(e){n.setState({soundSrc:e})},n.onDiscard=function(e,t){var a={type:"card",card:t,playerSocketId:n.props.player.socketId,discarded:!0},r=n.state.game,o=n.props.player.socketId;console.log(r.cards),r.cards[o]=r.cards[o].filter(function(t,n){return n!==e}),console.log(r.cards);var s=n.state.discardMoves;s.push(a),n.setState({discardMoves:s,game:r})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"ctrlPressHandler",value:function(e,t){17===e.keyCode&&this.setState({isDiscardEnabled:t})}},{key:"componentDidMount",value:function(){var e=this;this.props.socket&&this.initializeSocket(),this.props.muteMusic(!0),document.addEventListener("keydown",function(t){e.ctrlPressHandler(t,!0)},!1),document.addEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keydown",function(t){e.ctrlPressHandler(t,!1)},!1),document.removeEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"render",value:function(){var e=this,t={my:null,enemy:null};if(null!==this.state.game){var n=this.state.game.cards,a=this.props.player.socketId;t.my=n[a];var o=this.state.game.playerSockets.filter(function(t){return t.socketId!==e.props.player.socketId})[0].socketId;t.enemy=n[o]}return r.a.createElement("div",{className:"gameWrapper"},r.a.createElement(A.a,{volume:this.props.soundVolume,src:this.state.soundSrc,autoPlay:!0,onEnded:function(){e.setState({soundSrc:""})}}),r.a.createElement(z,{cards:t.my,onUseAbort:this.onUseAbort,usedCardIndexes:this.state.usedCardIndexes,areMine:!0,move:this.props.isMove,title:"Your cards:",setCardTargetHighlight:this.setCardTargetHighlight,playSound:this.playSound,game:this.state.game,player:this.props.player,isDiscardEnabled:this.state.isDiscardEnabled,onDiscard:this.onDiscard}),r.a.createElement(se,{player:this.props.player,updateUsedCardIndexes:this.updateUsedCardIndexes,usedCardIndexes:this.state.usedCardIndexes,moveHandler:this.moveHandler,onMoveTimeout:this.onMoveTimeout,move:this.props.isMove,game:this.state.game,addPopup:this.props.addPopup,isCardTargetHighlight:this.state.cardTargetHighlight,playSound:this.playSound}),r.a.createElement(z,{cards:t.enemy,usedCardIndexes:{0:!1,1:!1,2:!1},areMine:!1,move:!this.props.isMove,title:"Enemy cards:",setCardTargetHighlight:this.setCardTargetHighlight,playSound:this.playSound,game:this.state.game,player:this.props.player}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.gameFromProps&&e.game!==t.game?(le({player:e.player,game:e.game,setTitle:e.setTitle}),{gameFromProps:!1,game:e.game}):null}}]),t}(a.Component),he=Object(U.a)(ve),fe=n(64),ye=n.n(fe),Ee=(n(38),n(65)),ge=n.n(Ee),be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isButtonDisabled:!1},n.clickHandler=function(e){e.preventDefault(),!0===n.state.isButtonDisabled?(console.log("pipup"),n.props.addPopup({type:M.POPUP_GENERIC,popupData:{title:"Error!",content:"<p>You are inviting too fast. Wait 5 seconds</p>"}})):(n.setState({isButtonDisabled:!0}),n.props.invitationHandler({id:n.props.id,socketId:n.props.socketId}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setState({isButtonDisabled:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(){var e=this;!0===this.state.isButtonDisabled&&setTimeout(function(){!0===e._isMounted&&e.setState({isButtonDisabled:!1})},5e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"browser-entry width-full"},r.a.createElement("span",{className:"player-info"},r.a.createElement("span",{className:"nickname"},this.props.nickname)),r.a.createElement("button",{id:"inviteButton",onClick:function(t){e.clickHandler(t)},className:"play border-neon border-neon-lime"},"Play"))}}]),t}(a.Component),ke=function(e){var t=e.player,n=e.connectedPlayers,a=e.invitationHandler,o=e.addPopup;n=Object.assign({},n),t&&delete n[t.nickname];var s=[];return Object.values(n).forEach(function(e){!1===e.isInGame&&s.push(r.a.createElement(be,{addPopup:o,id:e.id,socketId:e.socketId,invitationHandler:a,nickname:e.nickname,key:e.id,index:Object.values(n).indexOf(e)}))}),s},Ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={connectedPlayers:n.props.connectedPlayers,playersInBrowser:ke({player:n.props.player,connectedPlayers:n.props.connectedPlayers,invitationHandler:n.props.invitationHandler,addPopup:n.props.addPopup}),searchedPlayer:null},n.searchPlayer=function(e){var t=e.target.value;if(""===t)n.setState({searchedPlayer:null});else{var a=Object.keys(n.props.connectedPlayers);a=a.filter(function(e){return e!==n.props.player.nickname});for(var r=0;r<a.length;r++)a[r].toLowerCase().includes(t.toLowerCase())&&n.setState({searchedPlayer:n.props.connectedPlayers[a[r]]})}},n.SearchedPlayer=function(){return ke({player:n.props.player,connectedPlayers:[n.state.searchedPlayer],invitationHandler:n.props.invitationHandler,addPopup:n.props.addPopup})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Players browser"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"players-browser container content-vcenter border-neon border-neon-orange"},r.a.createElement("div",{className:"players-browser-title bg-lightgrey width-full text-xlg text-center"},r.a.createElement("p",null,this.props.player&&r.a.createElement("span",null,"You are logged in as"," ",r.a.createElement("b",null,this.props.player.nickname),"."))),r.a.createElement("div",{className:"search-player"},r.a.createElement("input",{placeholder:"Search player",onChange:this.searchPlayer,className:"border-neon border-neon-blue"})),r.a.createElement(ge.a,{style:{width:"100%",height:"100%"}},this.state.searchedPlayer?r.a.createElement(this.SearchedPlayer,null):this.state.playersInBrowser.map(function(e){return e})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.connectedPlayers!==e.connectedPlayers?{playersInBrowser:ke({player:e.player,connectedPlayers:e.connectedPlayers,invitationHandler:e.invitationHandler,addPopup:e.addPopup}),connectedPlayers:e.connectedPlayers}:null}}]),t}(r.a.Component),Ne=(n(102),n(8)),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).loginHandler=function(){var e=n.inputRef.current.value,t=n.props.socket;e.length<=1?n.props.addPopup({type:M.POPUP_GENERIC,popupData:{title:"Error!",content:"<p>Your nickname has to be longer.</p>"}}):e.includes(" ")?n.props.addPopup({type:M.POPUP_GENERIC,popupData:{title:"Error!",content:"<p>Your nickname cannot have spaces.</p>"}}):t.emit(Ne.VERIFY_USERNAME,e,function(e){var t=e.player;e.isTaken?n.props.addPopup({type:M.POPUP_GENERIC,popupData:{title:"Error!",content:"<p>This nickname is taken.</p>"}}):n.props.loginPlayer(t)})},n.submitOnEnter=function(e){13===e.which&&n.loginHandler()},n.inputRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Login page"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-page-content"},r.a.createElement("div",{className:"infoNickname border-neon border-neon-violet"},r.a.createElement("p",null,"Please enter your nickname")),r.a.createElement("div",{className:"nickname-input"},r.a.createElement("input",{ref:this.inputRef,type:"text",maxLength:"15",className:"inputNickname border-neon border-neon-red",onKeyDown:this.submitOnEnter}),r.a.createElement("button",{className:"button-pointer border-neon border-neon-orange",onClick:this.loginHandler},"SUBMIT"))))}}]),t}(a.Component),Ce=Object(U.a)(Oe),De=n(66),Se=n.n(De),Pe=n(18),Te=n(138),Me=n(136),_e=n(67),Ae=n.n(_e),Re=(n(131),function(){return r.a.createElement("div",{className:"walkthrough-desc"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("span",null,"Your cards which you can use during a turn.")),r.a.createElement("li",null,r.a.createElement("span",null,"Keyboard where you can guess a letter by clicking it and end turn.")),r.a.createElement("li",null,r.a.createElement("span",null,"Place for a random word. Your guessed letters are colored by blue and opponent's are red."))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"During a turn you can use cards and guess one letter.")),r.a.createElement("li",null,r.a.createElement("span",null,"To use a card drag it on the random word (number 3) and drop.")),r.a.createElement("li",null,r.a.createElement("span",null,"Game ends after you or your opponent win two rounds."))))}),we=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={buttonVisibility:!0},n.onReady=function(){n.props.socket.emit(Ne.WALKTHROUGH_READY,{gameId:n.props.gameId}),n.setState({buttonVisibility:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Walkthrough"})}},{key:"render",value:function(){var e=this.state.buttonVisibility?"ok-btn border-neon border-neon-orange":"ok-btn-pressed ok-btn border-neon border-neon-orange",t=this.state.buttonVisibility?"READY":"Waiting for opponent...";return r.a.createElement("div",{className:"gameWrapper"},r.a.createElement("div",{className:"walkthrough"},r.a.createElement("div",{className:"walkthrough-content"},r.a.createElement("img",{className:"walkthrough-image",src:"images/walkthrough/walkthrough.png",alt:"Walkthrough screenshot"}),r.a.createElement(Re,null)),r.a.createElement("div",{className:"ok-btn-wrapper"},r.a.createElement("button",{className:e,onClick:this.onReady},t))))}}]),t}(a.Component),je=n(132),Ue="ws://cardman-multiplayer.herokuapp.com:80",xe=n(18).setScore,Ve=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={display:!0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({display:!1})},2500)}},{key:"render",value:function(){return this.state.display?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"intro-logo"},r.a.createElement("div",{className:"text-nunito intro-1"},"Cardman\xa0"),r.a.createElement("div",{className:"text-nunito intro-2"},"Multiplayer"))):null}}]),t}(r.a.Component),He=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).config={disconnectedTimeoutMs:20,defaultVolumeSettings:{musicVol:.5,soundVol:.5}},n.isInCache=function(e){return null!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)},n.invitationHandler=function(e){var t=e.id,a=void 0===t?null:t,r=e.socketId,o=void 0===r?null:r;a===n.state.player.id?n.addPopup({title:"Error!",content:"You cannot invite yourself."}):n.state.socket.emit(Ne.INVITATION,{id:a,socketId:o})},n.initializeSocket=function(){var e=Se()(Ue);n.setState({socket:e}),e.on("connect",function(){console.log("Connected to server.")}),e.on("pong",function(e){e>n.config.disconnectedTimeoutMs?n.setState({isDisconnected:!0}):n.setState({isDisconnected:!1})}),[Ne.PLAYER_CONNECTED,Ne.PLAYER_DISCONNECTED,Ne.REFRESH_PLAYERS].forEach(function(t){e.on(t,function(e){var a=e.connectedPlayers;console.log(t),n.setState({connectedPlayers:a})})}),e.on(Ne.INVITATION,function(e){var t=e.nickname,a=e.socketId,r=n.state.socket;n.addPopup({type:M.POPUP_INVITATION,popupData:{nickname:t,onAccept:function(){r.emit(Ne.INVITATION_ACCEPTED,{fromSocketId:a,to:n.state.player})},onDecline:function(){}}})}),e.on(Ne.GAME_CREATED,function(e){var t=e.gameId;n.setState({gameId:t},function(){n.props.history.push("/walkthrough")})}),e.on(Ne.GAME_STARTED,function(e){var t=e.game;n.setGame({game:t}),n.setMove(Object(Pe.isMove)({game:t,player:n.state.player})),xe({player:n.state.player,game:t,setTitle:n.setTitle})})},n.loginPlayer=function(e){var t=n.state.socket;t.emit(Ne.PLAYER_CONNECTED,e),n.setState({player:e}),t.on(Ne.PLAYER_CONNECTED,function(e){var t=e.connectedPlayers;n.setState({connectedPlayers:t}),n.props.history.push("/browser")})},n.logoutPlayer=function(){n.state.socket.emit(Ne.LOGOUT),n.setState({player:null})},n.setTitle=function(e){var t=e.title,a=void 0===t?null:t,r=e.score,o=void 0===r?null:r;n.setState({title:a}),n.setState({score:o})},n.setGame=function(e){var t=e.game;n.setState({game:t},n.props.history.push("/game"))},n.setMove=function(e){n.setState({isMove:e})},n.setSettings=function(e){var t=e.soundVol,a=e.musicVol;n.setState({volumeSettings:{soundVol:t,musicVol:a}});var r={musicVol:a,soundVol:t};localStorage.setItem("cachedVolumeSettings",JSON.stringify(r))},n.muteMusic=function(e){n.setState({volumeSettings:Object(i.a)({},n.state.volumeSettings,{muted:e})})},n.addPopup=function(e){var t=e.type,a=void 0===t?M.POPUP_GENERIC:t,r=e.popupData;n.setState({newPopup:{type:a,popupData:Object(i.a)({},r,{id:je()})}})},n.popupsRef=r.a.createRef(),n.state={isLogoVisible:!1,title:"Cardman Multiplayer",score:null,player:null,socket:null,connectedPlayers:{},game:null,isMove:!1,volumeSettings:{musicVol:.5,soundVol:.5,muted:!1},isDisconnected:!1,gameId:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){"/"!==this.props.location.pathname&&null===this.state.player&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){var e=this;if(setInterval(function(){e.setState({isLogoVisible:!e.state.isLogoVisible})},1e3),this.isInCache("cachedVolumeSettings")){var t=JSON.parse(localStorage.getItem("cachedVolumeSettings"));this.setState({volumeSettings:{musicVol:t.musicVol,soundVol:t.soundVol}})}else{var n={musicVol:this.config.defaultVolumeSettings.musicVol,soundVol:this.config.defaultVolumeSettings.soundVol};localStorage.setItem("cachedVolumeSettings",JSON.stringify(n))}this.initializeSocket()}},{key:"componentWillUnmount",value:function(){this.logoutPlayer()}},{key:"render",value:function(){var e=this,t=this.state,n=t.socket,a=t.player,o=t.game,s=t.gameId,i=t.isMove,c=t.connectedPlayers,l=t.isDisconnected,u=this.state.volumeSettings;return r.a.createElement("div",{className:"container of-rows width-full height-full text-nunito "},r.a.createElement(Ve,null),r.a.createElement(k,{volumeSettings:u,title:this.state.title,score:this.state.score,setSettings:this.setSettings}),r.a.createElement(A.a,{src:Ae.a,autoPlay:!0,volume:u.musicVol,loop:!0,muted:u.muted}),r.a.createElement("div",{className:"row height-full width-full bg-lightgrey"},r.a.createElement(j,{newPopup:this.state.newPopup,isDisconnected:l,soundVolume:u.soundVol}),r.a.createElement(Te.a,null,r.a.createElement(Me.a,{exact:!0,path:"/"},r.a.createElement(Ce,{socket:n,loginPlayer:this.loginPlayer,setTitle:this.setTitle,addPopup:this.addPopup})),r.a.createElement(Me.a,{path:"/credits",setTitle:this.setTitle,component:ye.a}),r.a.createElement(Me.a,{path:"/browser",render:function(){return r.a.createElement(Ie,{player:a,setTitle:e.setTitle,addPopup:e.addPopup,invitationHandler:e.invitationHandler,connectedPlayers:c})}}),r.a.createElement(Me.a,{path:"/walkthrough",render:function(){return r.a.createElement(we,{player:a,setTitle:e.setTitle,gameId:s,muteMusic:e.muteMusic,socket:n,soundVolume:u.soundVol})}}),r.a.createElement(Me.a,{path:"/game",render:function(){return r.a.createElement(he,{player:a,game:o,muteMusic:e.muteMusic,socket:n,setTitle:e.setTitle,addPopup:e.addPopup,setMove:e.setMove,isMove:i,soundVolume:u.soundVol})}}))))}}]),t}(r.a.Component),Ge=Object(U.a)(He),Le=n(137);s.a.render(r.a.createElement(Le.a,null,r.a.createElement(Ge,null)),document.getElementById("root"))},18:function(e,t){e.exports={isMove:function(e){var t=e.game,n=e.player,a=t.nextPlayerIndex;return t.playerSockets[a].id===n.id},setScore:function(e){var t=e.player,n=e.game,a=void 0===n?null:n,r=e.setTitle,o=a.playerSockets.filter(function(e){return e.socketId===t.socketId})[0],s=a.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0],i=a.score;r({score:{me:o.nickname,myScore:i[o.socketId],enemy:s.nickname,enemyScore:i[s.socketId]}})}}},35:function(e,t,n){},36:function(e,t){var n={DEFINITION_CARD:{id:"DEFINITION_CARD",title:"Definition card",description:"Shows you a definition of the word.",use:function(e){var t=e.currentGame;e.socket,e.move;return console.log("DEFINITION_CARD card used"),t},doesMeetConditions:function(e){return!0}},RANDOM_CORRECT_LETTER_CARD:{id:"RANDOM_CORRECT_LETTER_CARD",title:"Random correct letter",description:"Chooses a random correct letter.",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=function(){var e=t.word.word,n=t.guessed.map(function(e){return e.key.toUpperCase()});e=e.toUpperCase();var a=Array.from(e).filter(function(e){return!n.includes(e)});return a[Math.floor(Math.random()*a.length)].toUpperCase()}();t.guessed.push({key:a,playerSocketId:n.playerSocketId});var r=t.playerSockets[t.nextPlayerIndex].socketId,o=t.playerSockets[1-t.nextPlayerIndex].socketId;return t.keys.push({key:a,playerSocketId:r}),t.keys.push({key:a,playerSocketId:o}),t},doesMeetConditions:function(e){return!0}},ADDITIONAL_TURN_CARD:{id:"ADDITIONAL_TURN_CARD",title:"Additional letter",description:"You can choose two letters in a turn.",use:function(e){var t=e.currentGame;e.socket,e.move;return console.log("ADDITIONAL_TURN_CARD card used"),t.nextPlayerIndex=1-t.nextPlayerIndex,t},doesMeetConditions:function(e){return!0}},REMOVE_ONE_UNFITTING_CARD:{id:"REMOVE_ONE_UNFITTING_CARD",title:"Remove one unfitting letter.",description:"Removes one unfitting letter from the current word.",use:function(e){var t=e.currentGame,n=e.socket,a=(e.move,t.word.word),r=Array.from(a.toUpperCase()),o=[];t.keys.forEach(function(e){e.playerSocketId===n.user.socketId&&o.push(e.key)});for(var s=[],i=65;i<=90;i++){var c=String.fromCharCode(i).toUpperCase();r.includes(c)||o.includes(c)||s.push(c)}return t.keys.push({key:s[Math.floor(Math.random()*s.length)],playerSocketId:n.user.socketId}),t},doesMeetConditions:function(e){return!0}},REMOVE_TWO_UNFITTING_CARD:{id:"REMOVE_TWO_UNFITTING_CARD",title:"Remove two unfitting letters.",description:"Removes two unfitting letters from the current word.",use:function(e){var t=e.currentGame,a=e.socket,r=e.move;return t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:r}),t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:r})},doesMeetConditions:function(e){return!0}},BLOCK_CARD:{id:"BLOCK_CARD",title:"Block enemy cards for 2 turns.",description:"<span>\n                <b>Blocks enemy cards for 2 turns.</b>\n            </span>\n            <span>\n                You can't block an already blocked player.<u>don't</u> add up.<br>\n                These values <u>don't</u> add up.\n            </span>",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=t.playerSockets.filter(function(e){return e.socketId!==n.playerSocketId})[0].socketId;return 0===t.blockCounters[a]&&(t.blockCounters[a]=2),t},doesMeetConditions:function(e,t){var n=e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId;return 0===e.blockCounters[n]}},IMMUNE_TO_BLOCK_CARD:{id:"IMMUNE_TO_BLOCK_CARD",title:"Immune to block.",description:"<span>\n                <b>Immune to blocking cards for 2 turns.</b>\n            </span>\n            <span>\n                These values <u>do</u> add up.\n            </span>",use:function(e){var t=e.currentGame,n=(e.socket,e.move.playerSocketId),a=t.blockCounters[n];return t.blockCounters[n]=a-2,t},doesMeetConditions:function(e){return!0}},LOOK_UP_CARD:{id:"LOOK_UP_CARD",title:"Look up enemy card",description:"You can look up one of the enemies cards only if they have any.",use:function(e){var t=e.currentGame;e.socket,e.move;return console.log("LOOK_UP_CARD card used"),t},doesMeetConditions:function(e,t){var n=e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId;return 0!==e.cards[n].length}},SWAP_RANDOM_CARDS:{id:"SWAP_RANDOM_CARDS",title:"Swap with opponent.",description:"<span>\n                <b>Swap your card for a random opponents card.</b>\n            </span>\n            <span>\n                You must have a card besides this one in the deck. Your\n                opponent has to have at least 1 card.\n            </span>",use:function(e){for(var t=e.currentGame,a=(e.socket,e.move),r=t.playerSockets.filter(function(e){return e.socketId!==a.playerSocketId})[0].socketId,o=t.cards[r],s=t.cards[a.playerSocketId],i=Math.floor(Math.random()*s.length),c=null,l=!0;l;)o[c=Math.floor(Math.random()*o.length)].id!==n.SWAP_RANDOM_CARDS.id&&(l=!1);for(var u=!1,p=0;p<s.length;p++)if(s[p].id!==n.SWAP_RANDOM_CARDS.id){u=!0;break}if(o.length>=1&&!u){var d=s[i];o[c]=d,s[i]=o[c],t.cards[r]=o,t.cards[a.playerSocketId]=s}return t},doesMeetConditions:function(e,t){for(var a=e.cards,r=a[t.socketId],o=a[e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId],s=!1,i=0;i<r.length;i++)if(r[i].id!==n.SWAP_RANDOM_CARDS.id){s=!0;break}return!1!==s&&0!==o.length}},RANDOMIZE_YOURSELF_CARD:{id:"RANDOMIZE_YOURSELF_CARD",title:"Randomize a card",description:"A random card of yours gets changed.",use:function(e){var t=e.currentGame,a=(e.socket,e.move);return t.cards[a.playerSocketId].push(function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){return!0}},RANDOMIZE_ENEMY_CARD:{id:"RANDOMIZE_ENEMY_CARD",title:"Randomize an enemies card",description:"A random card of your opponent gets changed.",use:function(e){var t=e.currentGame,a=(e.socket,e.move);console.log("RANDOMIZE_ENEMY_CARD card used");var r=t.playerSockets.filter(function(e){return e.socketId!==a.playerSocketId})[0].socketId,o=t.cards[r].length,s=Math.floor(Math.random()*o);return o>0&&(t.cards[r][s]=function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){return!0}}},a=function(){var e=Math.floor(Math.random()*Object.keys(n).length),t=Object.keys(n)[e];return n[t]};e.exports={getRandomCard:a,generateCards:function(e){for(var t=[],n=0;n<e;n++)t.push(a());return t},Cards:n,getCard:function(e){return n[e]},resupplyCards:function(e){for(var t=e.cards,n=0;n<Object.keys(t).length;n++){var r=Object.keys(t)[n],o=t[r];o.length<3&&o.push(a()),t[r]=o}return t}}},37:function(e,t){e.exports={Result:{GAME_TIE:"GAME_TIE",TURN_WIN:"TURN_WIN",TURN_TIE:"TURN_TIE",GAME_WIN:"GAME_WIN",NOTHING:"NOTHING"}}},38:function(e,t,n){},56:function(e,t,n){e.exports=n.p+"static/media/popup.6f214bea.mp3"},57:function(e,t,n){e.exports=n.p+"static/media/card_flip.63e37b8e.mp3"},58:function(e,t,n){e.exports=n.p+"static/media/card_flip2.e1b8fb14.mp3"},59:function(e,t,n){e.exports=n.p+"static/media/card_drop.f8713f77.mp3"},60:function(e,t,n){e.exports=n.p+"static/media/card_flip3.dff27e09.mp3"},61:function(e,t,n){e.exports=n.p+"static/media/button_click.923d6dfa.mp3"},64:function(e,t){},67:function(e,t,n){e.exports=n.p+"static/media/bg-lower.b0652969.mp3"},68:function(e,t,n){e.exports=n(135)},73:function(e,t,n){},8:function(e,t){e.exports={PLAYER_CONNECTED:"PLAYER_CONNECTED",PLAYER_DISCONNECTED:"PLAYER_DISCONNECTED",VERIFY_USERNAME:"VERIFY_USERNAME",LOGOUT:"LOGOUT",INVITATION:"INVITATION",INVITATION_ACCEPTED:"INVITATION_ACCEPTED",GAME_STARTED:"GAME_STARTED",GAME_MOVE:"GAME_MOVE",WIN:"WIN",REFRESH_PLAYERS:"REFRESH_PLAYERS",GAME_CREATED:"GAME_CREATED",WALKTHROUGH_READY:"WALKTHROUGH_READY"}},86:function(e,t){e.exports={roundAndConvertVolume:function(e){return Math.round(10*parseInt(e)/100)/10}}},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},9:function(e,t){e.exports={POPUP_GENERIC:"POPUP_GENERIC",POPUP_CONFIRMATION:"POPUP_CONFIRMATION",POPUP_INVITATION:"POPUP_INVITATION",POPUP_DISCONNECTED:"POPUP_DISCONNECTED",POPUP_CARD:"POPUP_CARD"}},93:function(e,t,n){},94:function(e,t,n){var a=n(18).isMove,r=n(9),o=r.POPUP_CONFIRMATION,s=r.POPUP_GENERIC,i=n(37).Result;e.exports={winHandler:function(e){var t=e.type,n=e.props,r=e.setScore,c=void 0===r?null:r,l=e.score,u=void 0===l?null:l,p=e.game,d=void 0===p?null:p,m=e.winner,v=void 0===m?null:m,h=e.returnToMenu,f=void 0===h?null:h,y=n.addPopup,E=n.setMove,g=n.setTitle,b=n.player,k=n.muteMusic,I=null;return t===i.TURN_WIN?(I={gameFromProps:!1,game:d},E(a({game:d,player:b}))):t===i.TURN_TIE?(I={gameFromProps:!1,game:d},E(a({game:d,player:b})),y({type:s,popupData:{title:"TIE",content:"Turn is tied. None of the players won."}})):t===i.GAME_WIN&&(I={allowMove:!1},y({type:o,popupData:{title:"GAME ENDED",content:"Player ".concat(v.nickname," has won the game."),onConfirm:function(){k(!1),f()}}})),c({player:b,game:d,setTitle:g,score:u}),I}}}},[[68,1,2]]]);
//# sourceMappingURL=main.6d592130.chunk.js.map