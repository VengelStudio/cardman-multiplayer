(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(11),s=n.n(r),i=n(13),c=n(2),l=n(3),u=n(5),d=n(4),m=n(6),p=(n(71),function(e){var t=e.title,n=void 0===t?null:t,a=e.score,r=void 0===a?null:a;return o.a.createElement("div",{className:"column auto has-background-dark header"},r&&o.a.createElement("div",{className:"title has-text-white-ter"},o.a.createElement("div",{className:"scoreHeader"},o.a.createElement("div",{className:"flex-item me"},o.a.createElement("span",null,r.me)),o.a.createElement("div",{className:"flex-item score"},o.a.createElement("span",null,"".concat(r.myScore,":").concat(r.enemyScore))),o.a.createElement("div",{className:"flex-item enemy"},o.a.createElement("span",null,r.enemy)))),n&&o.a.createElement("div",{className:"title has-text-white-ter"},n))}),v=n(15),f=n.n(v),y=n(52),h=n(53),g=n(54),E=n(84).roundAndConvertVolume,k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onChange=function(e){"sound-slider-thumb"===e.target.id?n.props.setSettings({soundVol:E(e.target.value),musicVol:n.props.volumeSettings.musicVol}):"music-slider-thumb"===e.target.id&&n.props.setSettings({soundVol:n.props.volumeSettings.soundVol,musicVol:E(e.target.value)})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=100*this.props.volumeSettings.soundVol,n=100*this.props.volumeSettings.musicVol;return o.a.createElement("div",{className:"options-btn"},o.a.createElement("div",{className:"gear-icon-wrapper"},o.a.createElement(f.a,{icon:g.cog,size:32,className:"gear-icon"})),o.a.createElement("div",{className:"dropdown-options border-neon border-neon-translucent"},o.a.createElement("div",{className:"settings-wrapper"},o.a.createElement("div",{className:"options-items"},o.a.createElement("div",{className:"options-item"},o.a.createElement(f.a,{className:"options-icon",icon:y.volume_2,size:32}),o.a.createElement("span",{className:"options-item-description"},"Sound volume: ".concat(t,"%")),o.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},o.a.createElement("input",{type:"range",min:"0",max:"100",id:"sound-slider-thumb",className:"options-slider slider",value:t,onChange:function(t){return e.onChange(t)}}))),o.a.createElement("div",{className:"options-item"},o.a.createElement(f.a,{className:"options-icon",icon:h.note,size:32}),o.a.createElement("span",{className:"options-item-description"},"Music volume: ".concat(n,"%")),o.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},o.a.createElement("input",{type:"range",min:"0",max:"100",id:"music-slider-thumb",className:"options-slider slider",value:n,onChange:function(t){return e.onChange(t)}})))))))}}]),t}(a.Component),b=n(129),S=(n(85),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={volumeSettings:n.props.volumeSettings},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row header width-full semi-bold bg-dark color-lightblue padding-sm height-sm text-lg content-hcenter content-vcenter"},o.a.createElement(k,{volumeSettings:this.state.volumeSettings,setSettings:this.props.setSettings}),o.a.createElement(p,{title:this.props.title,score:this.props.score}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"/game"===e.location.pathname?{volumeSettings:Object(i.a)({},e.volumeSettings,{musicVol:0})}:{volumeSettings:e.volumeSettings}}}]),t}(a.Component)),I=Object(b.a)(S),N=n(28),M=n(10),O=n.n(M),C=n(57),T=n.n(C),A=n(58),D=n.n(A),R=n(59),_=n.n(R),w=n(60),j=n.n(w),P=n(61),x=n.n(P),V=n(62),U=n.n(V),L=(n(87),n(36),function(e){var t=e.id,n=e.description,a=e.cardBehaviour,r=a.isMine,s=a.isUsed,i=a.isDisabled,c=a.isBlocked,l=a.isDiscardEnabled,u="card-image ";if((s||i||c||l)&&(u+="card-image-used "),r){var d=s?o.a.createElement("div",{className:"card-info"},n):null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:u,src:"images/cards/".concat(t,".svg"),alt:"Playing card."}),d)}return o.a.createElement("img",{className:"".concat(u," default-pointer"),src:"images/cards/placeholder.svg",alt:"Playing card."})}),G=function(e){var t=e.cardBehaviour,n=e.onUseAbort,a=e.onDiscard,r=e.onUse,s=e.disabledText,i=t.isUsed,c=t.isDisabled,l=t.isBlocked,u=null;if(t.isDiscardEnabled)u=o.a.createElement("button",{className:"card-discard-button",onClick:function(){a()}},o.a.createElement("div",null,"Click to discard"));else if(i)u=o.a.createElement("button",{className:"card-use-abort-button",onClick:function(){n()}},o.a.createElement("div",null,"Click to abort"));else if(c){var d="1.4vw";s.length>76&&(d="1.2vw"),u=o.a.createElement("div",{className:"card-disabled-info",style:{fontSize:d}},s)}else u=l?o.a.createElement("div",{className:"card-disabled-info"},"Your cards are blocked."):o.a.createElement("button",{className:"card-use-button",onClick:r});return o.a.createElement("div",{className:"card-overlay"},u)},W=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cardBehaviour,n=e.card,a=e.onUseAbort,r=e.onDiscard,s=e.onUse,i="card ";return e.isMine&&(i+="hover-pointer"),o.a.createElement("div",{className:i},o.a.createElement(L,{id:n.id,description:n.description,cardBehaviour:t}),o.a.createElement(G,{cardBehaviour:t,onUse:s,onUseAbort:a,onDiscard:r,disabledText:n.disabledText}))}}]),t}(a.Component),Y=n(37).Cards,F=function(e){var t=e.cards,n=e.areMyCards,a=e.isDiscardEnabled,r=e.player,s=e.game,i=e.cardMoves,c=e.isMove,l=e.onDiscard,u=e.onUseAbort,d=e.onCardUse,m=0;null!==s&&(m=s.blockCounters[r.socketId]);var p=null;return null!==t&&(p=t.map(function(e,t){var p=Y[e.id],v={isMine:!1};if(n){var f=i.some(function(e){return!1===e.discarded&&e.index===t}),y={cardId:e.id,index:t},h=!1;return m>0&&m<=2&&(h=!0),v={isMine:!0,isUsed:f,isDiscardEnabled:a,isBlocked:h,isDisabled:!p.doesMeetConditions({game:s,player:r,index:t})},o.a.createElement("li",{key:t},o.a.createElement(W,{index:t,card:e,cardBehaviour:v,onUse:function(){c&&d(y)},onUseAbort:function(){u(t)},onDiscard:function(){c&&l(t,e.id)}}))}return o.a.createElement("li",{key:t},o.a.createElement(W,{card:e,cardBehaviour:v}))})),o.a.createElement("ul",null,p)},H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isTooltipOpenable:n.props.areMine},n.onUse=function(e){n.props.areMyCards&&n.props.onCardUse(e)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.areMyCards,n=e.isMove,a=null;(t&&n||!t&&!n)&&(a={animation:"moveFlashing 400ms linear infinite alternate-reverse forwards"});var r=t?"Your cards:":"Enemy cards:";return o.a.createElement("div",{className:"cards",style:a},o.a.createElement("span",{className:"cards-title"},r),o.a.createElement("div",{className:"cards-wrapper"},o.a.createElement(F,this.props)))}}]),t}(a.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isUsed,n=e.isSelected,a=e.letter,r=e.keyClickHandler,s={backgroundColor:"#519C3F"};return t&&(s={backgroundColor:"#555",textDecoration:"none"}),n&&(s=Object(i.a)({},s,{borderWidth:"0.3vh",borderStyle:"solid",borderColor:"orange"})),o.a.createElement("button",{style:s,onClick:function(){r()},className:"key"},a)}}]),t}(a.Component),K=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).generateKeys=function(){for(var e=[],t=function(t){var a=String.fromCharCode(t).toUpperCase(),r=n.props.keys.filter(function(e){return e.playerSocketId===n.props.player.socketId}),s=(r=r.map(function(e){return e.key})).includes(a),i=!1;null!==n.props.keyMove&&n.props.keyMove.key===a&&(i=!0);e.push(o.a.createElement(B,{key:t,keyClickHandler:function(){var e={type:"key",key:a,playerSocketId:n.props.player.socketId};!1===i?n.props.onKeyMove(e):n.props.onKeyMove(null)},player:n.props.player,letter:a,isUsed:s,isSelected:i}))},a=65;a<=90;a++)t(a);return e},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"keyboard border-neon border-light-translucent"},this.generateKeys().map(function(e){return e}))}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).timeInterval=null,n.state={time:n.props.time,wrapperStyle:{},circleStyle:{animation:"countdown ".concat(n.props.time,"s linear 1 forwards")},propsStyle:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeInterval=setInterval(function(){e.setState(function(e){return{time:e.time-1}},function(){0===e.state.time&&(clearInterval(e.timeInterval),e.props.onEnd&&e.props.onEnd(),e.setState({style:Object(i.a)({display:"none"},e.state.style)}))})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeInterval)}},{key:"render",value:function(){return o.a.createElement("div",{style:this.state.wrapperStyle,className:"timer"},o.a.createElement("div",{id:"timer-number"},this.state.time),o.a.createElement("svg",{className:"timer-svg"},o.a.createElement("circle",{style:this.state.circleStyle,r:"18",cx:"20",cy:"20"})))}}]),t}(a.Component),Z=function(e){var t=e.side;return o.a.createElement("div",{className:"state-chains "+t},o.a.createElement("span",null,"Cards blocked for ".concat(e.state," turns.")))},J=function(e){var t=e.side,n=-1*e.state;return o.a.createElement("div",{className:"state-shield "+t},o.a.createElement("span",null,"Immune to block cards for ".concat(n," turns.")))},q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getIcon=function(e,t){return e>0?o.a.createElement(Z,{state:e,side:t}):e<0?o.a.createElement(J,{state:e,side:t}):null},n.getPlayerState=function(e){var t=n.props,a=t.game,o=t.player;if(null===o||null===a)return null;if(e)return n.getIcon(a.blockCounters[o.socketId],"left-1vh");var r=a.playerSockets.filter(function(e){return e.socketId!==o.socketId})[0].socketId;return n.getIcon(a.blockCounters[r],"right-1vh")},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"player-state"},this.getPlayerState(!0),this.getPlayerState(!1))}}]),t}(a.Component),Q=(n(88),function(e){var t=e.isMove,n=e.onClick,a="Waiting...",r="end-turn-btn button-pointer border-neon border-light-translucent ";return t?(r+="end-turn-btn-hover",a="End turn"):r+="end-turn-btn-waiting ",o.a.createElement("button",{onClick:n,disabled:!t,className:r},a)}),X=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).colorDisplayWord=function(e){e=e.toUpperCase();var t=[],a=n.props.game.guessed,r=n.props.player.socketId;return Array.from(e).forEach(function(e,n){var s=null;"_"!==e&&" "!==e&&(s=a.filter(function(t){return t.key===e})[0].playerSocketId===r?{color:"#0900ff"}:{color:"#b92e34"});t.push(o.a.createElement("span",{key:n,style:s},e))}),t},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onMoveTimeout,n=e.isMove,a=e.game,r=e.player,s=e.onKeyMove,i=e.keyMove,c=e.onEndTurn;return o.a.createElement("div",{className:"content"},o.a.createElement(q,{player:r,game:a}),o.a.createElement("div",{className:"timer-wrapper"},n&&o.a.createElement(z,{time:30,onEnd:t})),o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"word border-neon border-neon-violet "},a&&this.colorDisplayWord(a.displayWord).map(function(e){return e})),o.a.createElement(Q,{isMove:n,onClick:c}),o.a.createElement("div",{className:"keyboard-wrapper"},a&&o.a.createElement(K,{player:r,keys:a.keys,keyMove:i,onKeyMove:s}))))}}]),t}(a.Component),$=n(27),ee=n(14),te=n.n(ee),ne=(n(19),function(e){var t=e.onClose,n=e.title,a=e.content,r=e.soundVolume;return s.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{volume:r,src:te.a,autoPlay:!0}),o.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},o.a.createElement("div",{className:"generic-popup-title"},o.a.createElement("span",null,n),o.a.createElement("button",{onClick:t,className:"btn-popup-close"},o.a.createElement(v.Icon,{icon:$.cross,size:"1.6vh",className:"close-icon"}))),o.a.createElement("div",{className:"generic-popup-content"},a))),document.body)}),ae=function(e){var t=e.cardId,n=e.description,a=e.onClose,r=e.soundVolume;return s.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{volume:r,src:te.a,autoPlay:!0}),o.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},o.a.createElement("div",{className:"generic-popup-title"},o.a.createElement("span",null),o.a.createElement("button",{onClick:a,className:"btn-popup-close"},o.a.createElement(v.Icon,{icon:$.cross,size:"1.6vh",className:"close-icon"}))),o.a.createElement("div",{className:"lookup-card-wrapper"},o.a.createElement("img",{className:"lookup-card-display",src:"images/cards/".concat(t,".svg"),alt:"Card"}),o.a.createElement("span",null,n)))),document.body)},oe=n(37).Cards,re=n(24),se=re.setScore,ie=re.isMove,ce=n(8),le=ce.GAME_MOVE,ue=ce.WIN,de=n(89).Result,me=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={game:n.props.game,gameFromProps:!0,allowMove:!0,soundSrc:"",isDiscardEnabled:!1,guessedWordModal:null,isTieModal:!1,gameEndWinnerModal:null,wordDefinition:null,isMoveModal:!1,isPeekModal:!1,peekCardId:null,peekDescription:null,keyMove:null,cardMoves:[],myCards:null,enemyCards:null},n.initializeSocket=function(){var e=n.props.socket;e.on(le,function(e){var t=e.game;n.setState({game:t},function(){var e=ie({game:n.state.game,player:n.props.player});n.props.setMove(e),e&&n.playSound(U.a)})}),e.on(ue,function(e){var t=e.winner,a=e.score,o=e.type,r=e.game,s=n.props,c=s.setMove,l=s.setTitle,u=s.player,d=null;o===de.TURN_WIN?(d={gameFromProps:!1,game:r},c(ie({game:r,player:u}))):o===de.TURN_TIE?(d={gameFromProps:!1,game:r},c(ie({game:r,player:u})),n.setState({isTieModal:!0})):o===de.GAME_WIN&&(d={allowMove:!1},n.setState({gameEndWinnerModal:t.nickname})),o!==de.TURN_WIN&&o!==de.TURN_TIE&&o!==de.GAME_WIN||n.setState({guessedWordModal:n.state.game.word.word}),se({player:u,game:r,setTitle:l,score:a}),n.setState(Object(i.a)({},d))})},n.onMove=function(){if(null!==n.state.keyMove||n.state.cardMoves.length>0){if(n.props.isMove&&n.state.allowMove){n.playSound(j.a);var e=n.state,t=e.keyMove,a=e.cardMoves;a.forEach(function(e){if(!1===e.discarded)if(e.card===oe.DEFINITION_CARD.id){var t=n.props.game.word.definitions,a=Math.floor(Math.random()*t.length);n.setState({wordDefinition:t[a]})}else if(e.card===oe.LOOK_UP_CARD.id){var o=n.props.game.playerSockets.filter(function(e){return e.socketId!==n.props.player.socketId})[0].socketId,r=n.props.game.cards[o],s=Math.floor(Math.random()*r.length),i=r[s].id,c=oe[i].description;n.setState({isPeekModal:!0,peekCardId:r[s].id,peekDescription:c})}});var o=n.props.socket,r=[];null!==t&&r.push(t),a!==[]&&(r=[].concat(Object(N.a)(r),Object(N.a)(a))),n.setState({keyMove:null,cardMoves:[]}),o.emit(le,{game:n.state.game,moves:r})}}else n.setState({isMoveModal:!0})},n.onMoveTimeout=function(){n.setState({keyMove:{type:"key",key:"",playerSocketId:n.props.player.socketId},cardMoves:[]},function(){n.onMove()})},n.onUseAbort=function(e){var t=n.state.cardMoves;t=t.filter(function(t){return t.index!==e}),n.playSound(_.a),n.setState({cardMoves:t})},n.playSound=function(e){n.setState({soundSrc:e})},n.onKeyMove=function(e){n.props.isMove&&(n.playSound(x.a),n.setState({keyMove:e}))},n.clearKeyMove=function(){n.setState({keyMove:null,clickedIndex:null})},n.onCardUse=function(e){if(n.props.isMove){var t={index:e.index,type:"card",card:e.cardId,playerSocketId:n.props.player.socketId,discarded:!1};!1===n.state.cardMoves.some(function(t){return t.index===e.index})&&(setTimeout(function(){n.playSound(D.a)},100),n.setState({cardMoves:[].concat(Object(N.a)(n.state.cardMoves),[t])}))}},n.onDiscard=function(e,t){var a=n.props.player.socketId,o={index:e,type:"card",card:t,playerSocketId:a,discarded:!0},r=n.state.cardMoves;(r=r.filter(function(t){return t.index+r.length!==e})).push(o),n.setState({cardMoves:r});var s=n.state.game;s.cards[a]=s.cards[a].filter(function(t,n){return n!==e}),setTimeout(function(){n.playSound(T.a)},100),n.setState({game:s})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"ctrlPressHandler",value:function(e,t){var n=this.props,a=n.player,o=n.isMove,r=this.state.game;if(null!==a&&null!==r){var s=a.socketId,i=r.blockCounters[s];o&&i<=0?17===e.keyCode&&this.setState({isDiscardEnabled:t}):17===e.keyCode&&this.setState({isDiscardEnabled:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.props.socket&&this.initializeSocket(),this.props.muteMusic(!0),document.addEventListener("keydown",function(t){e.ctrlPressHandler(t,!0)},!1),document.addEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keydown",function(t){e.ctrlPressHandler(t,!1)},!1),document.removeEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"render",value:function(){var e=this,t={my:null,enemy:null};if(null!==this.state.game){var n=this.state.game.cards,a=this.props.player.socketId;t.my=n[a];var r=this.state.game.playerSockets.filter(function(t){return t.socketId!==e.props.player.socketId})[0].socketId;t.enemy=n[r]}return o.a.createElement("div",{className:"gameWrapper"},this.state.wordDefinition&&o.a.createElement(ne,{title:"Word definition:",content:this.state.wordDefinition,onClose:function(){return e.setState({wordDefinition:null})},volumeSettings:this.props.volumeSettings}),this.state.isMoveModal&&o.a.createElement(ne,{title:"Cannot continue!",content:"You have to make a a move.",onClose:function(){return e.setState({isMoveModal:!1})},volumeSettings:this.props.volumeSettings}),this.state.isPeekModal&&o.a.createElement(ae,{cardId:this.state.peekCardId,description:this.state.peekDescription,onClose:function(){return e.setState({isPeekModal:!1})},volumeSettings:this.props.volumeSettings}),this.state.guessedWordModal&&o.a.createElement(ne,{title:"Guessed word:",content:this.state.guessedWordModal,volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({guessedWordModal:null})}}),this.state.isTieModal&&o.a.createElement(ne,{title:"TIE.",content:"Turn is tied. None of the players won.",volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({isTieModal:null})}}),this.state.gameEndWinnerModal&&o.a.createElement(ne,{title:"GAME ENDED.",content:"Player ".concat(this.state.gameEndWinnerModal," has won the game."),volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({gameEndWinnerModal:null}),e.props.history.push("/browser"),e.setState({game:null})}}),o.a.createElement(O.a,{volume:this.props.volumeSettings.soundVol,src:this.state.soundSrc,autoPlay:!0,onEnded:function(){e.setState({soundSrc:""})}}),o.a.createElement(H,{cards:t.my,areMyCards:!0,onCardUse:this.onCardUse,onDiscard:this.onDiscard,onUseAbort:this.onUseAbort,isDiscardEnabled:this.state.isDiscardEnabled,isMove:this.props.isMove,game:this.state.game,player:this.props.player,cardMoves:this.state.cardMoves}),o.a.createElement(X,{player:this.props.player,onMoveTimeout:this.onMoveTimeout,isMove:this.props.isMove,game:this.state.game,keyMove:this.state.keyMove,onKeyMove:this.onKeyMove,onEndTurn:this.onMove}),o.a.createElement(H,{cards:t.enemy,areMyCards:!1,isMove:this.props.isMove,game:this.state.game,player:this.props.player}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.gameFromProps&&e.game!==t.game?(se({player:e.player,game:e.game,setTitle:e.setTitle}),{gameFromProps:!1,game:e.game}):null}}]),t}(a.Component),pe=Object(b.a)(me),ve=(n(38),n(63)),fe=n.n(ve),ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isButtonDisabled:!1,isTimeoutModal:!1},n.clickHandler=function(e){e.preventDefault(),!0===n.state.isButtonDisabled?n.setState({isTimeoutModal:!0}):(n.setState({isButtonDisabled:!0}),n.props.invitationHandler({id:n.props.id,socketId:n.props.socketId}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setState({isButtonDisabled:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(){var e=this;!0===this.state.isButtonDisabled&&setTimeout(function(){!0===e._isMounted&&e.setState({isButtonDisabled:!1})},5e3)}},{key:"render",value:function(){var e=this,t=this.state.isTimeoutModal,n=this.props,a=n.nickname,r=n.volumeSettings;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(ne,{title:"Error!",content:"You are inviting too fast. Wait 5 seconds.",soundVolume:r.soundVol,onClose:function(){e.setState({isTimeoutModal:!1})}}),o.a.createElement("div",{className:"browser-entry width-full"},o.a.createElement("span",{className:"player-info"},o.a.createElement("span",{className:"nickname"},a)),o.a.createElement("button",{onClick:function(t){e.clickHandler(t)},className:"play border-neon border-neon-lime"},"Play")))}}]),t}(a.Component),he=function(e){var t=e.player,n=e.connectedPlayers,a=e.invitationHandler,r=e.volumeSettings;n=Object.assign({},n),t&&delete n[t.nickname];var s=[];return Object.values(n).forEach(function(e){!1===e.isInGame&&s.push(o.a.createElement(ye,{id:e.id,socketId:e.socketId,invitationHandler:a,nickname:e.nickname,volumeSettings:r,key:e.id,index:Object.values(n).indexOf(e)}))}),s},ge=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={connectedPlayers:n.props.connectedPlayers,playersInBrowser:he({player:n.props.player,connectedPlayers:n.props.connectedPlayers,invitationHandler:n.props.invitationHandler,volumeSettings:n.props.volumeSettings}),searchedPlayer:null},n.searchPlayer=function(e){var t=e.target.value;if(""===t)n.setState({searchedPlayer:null});else{var a=Object.keys(n.props.connectedPlayers);a=a.filter(function(e){return e!==n.props.player.nickname});for(var o=0;o<a.length;o++)a[o].toLowerCase().includes(t.toLowerCase())&&n.setState({searchedPlayer:n.props.connectedPlayers[a[o]]})}},n.SearchedPlayer=function(){return he({player:n.props.player,connectedPlayers:[n.state.searchedPlayer],invitationHandler:n.props.invitationHandler,volumeSettings:n.props.volumeSettings})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Players browser"})}},{key:"render",value:function(){var e=this.props.player,t=this.state,n=t.searchedPlayer,a=t.playersInBrowser;return o.a.createElement("div",{className:"players-browser container content-vcenter border-neon border-neon-orange"},o.a.createElement("div",{className:"players-browser-title bg-lightgrey width-full text-xlg text-center"},o.a.createElement("p",null,e&&o.a.createElement("span",null,"You are logged in as ",o.a.createElement("b",null,e.nickname),"."))),o.a.createElement("div",{className:"search-player"},o.a.createElement("input",{placeholder:"Search player",onChange:this.searchPlayer,className:"border-neon border-neon-blue"})),o.a.createElement(fe.a,{style:{width:"100%",height:"100%"}},n?o.a.createElement(this.SearchedPlayer,null):a.map(function(e){return e})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.connectedPlayers!==e.connectedPlayers?{playersInBrowser:he({player:e.player,connectedPlayers:e.connectedPlayers,invitationHandler:e.invitationHandler,volumeSettings:e.volumeSettings}),connectedPlayers:e.connectedPlayers}:null}}]),t}(o.a.Component),Ee=(n(96),n(8)),ke=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).inputRef=o.a.createRef(),n.state={isNameLengthOpen:!1,isNameSpaceOpen:!1,isNameTakenOpen:!1,isAlreadyLoggedInOpen:!1},n.loginHandler=function(){var e=n.inputRef.current.value,t=n.props.socket;e.length<=1?n.setState({isNameLengthOpen:!0}):e.includes(" ")?n.setState({isNameSpaceOpen:!0}):t.emit(Ee.VERIFY_USER,e,function(e){var t=e.player,a=e.isTaken;e.isIpFree?a?n.setState({isNameTakenOpen:!0}):n.props.loginPlayer(t):n.setState({isAlreadyLoggedInOpen:!0})})},n.submitOnEnter=function(e){13===e.which&&n.loginHandler()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Login page"})}},{key:"render",value:function(){var e=this,t=this.props.volumeSettings;return o.a.createElement("div",{className:"login-page-content"},this.state.isNameLengthOpen&&o.a.createElement(ne,{title:"Error!",content:"Your nickname has to be longer.",onClose:function(){e.setState({isNameLengthOpen:!1})},soundVolume:t.soundVol}),this.state.isNameSpaceOpen&&o.a.createElement(ne,{title:"Error!",content:"Your nickname cannot have spaces.",onClose:function(){e.setState({isNameSpaceOpen:!1})},soundVolume:t.soundVol}),this.state.isNameTakenOpen&&o.a.createElement(ne,{title:"Error!",content:"This nickname is taken.",onClose:function(){e.setState({isNameTakenOpen:!1})},soundVolume:t.soundVol}),this.state.isAlreadyLoggedInOpen&&o.a.createElement(ne,{title:"Error!",content:"You are already logged in.",onClose:function(){e.setState({isAlreadyLoggedInOpen:!1})},soundVolume:t.soundVol}),o.a.createElement("div",{className:"infoNickname border-neon border-neon-violet"},o.a.createElement("p",null,"Please enter your nickname")),o.a.createElement("div",{className:"nickname-input"},o.a.createElement("input",{ref:this.inputRef,type:"text",maxLength:"15",className:"inputNickname border-neon border-neon-red",onKeyDown:this.submitOnEnter,placeholder:"Your nickname..."}),o.a.createElement("button",{className:"button-pointer border-neon border-neon-orange",onClick:this.loginHandler},"SUBMIT")))}}]),t}(a.Component),be=n(64),Se=n.n(be),Ie=n(24),Ne=n(130),Me=n(127),Oe=n(65),Ce=n.n(Oe),Te=(n(125),function(){return o.a.createElement("div",{className:"walkthrough-desc"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("span",null,"During a turn you can use cards and guess one letter.")),o.a.createElement("li",null,o.a.createElement("span",null,"To use a card just click it.")),o.a.createElement("li",null,o.a.createElement("span",null,"Game ends after you or your opponent win two rounds."))))}),Ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isClicked:!1},n.onReady=function(){var e=n.props.socket;n.state.isClicked||e.emit(Ee.WALKTHROUGH_READY,{gameId:n.props.gameId}),n.setState({isClicked:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Walkthrough"})}},{key:"render",value:function(){var e=this.state.isClicked?"ok-btn-pressed ok-btn border-neon border-neon-orange":"ok-btn border-neon border-neon-orange",t=this.state.isClicked?"Waiting for opponent...":"READY";return o.a.createElement("div",{className:"gameWrapper"},o.a.createElement("div",{className:"walkthrough"},o.a.createElement("div",{className:"walkthrough-content"},o.a.createElement("img",{className:"walkthrough-image",src:"images/walkthrough/Walkthrough.svg",alt:"Walkthrough screenshot"}),o.a.createElement(Te,null),o.a.createElement("div",{className:"ok-btn-wrapper"},o.a.createElement("button",{className:e,onClick:this.onReady},t)))))}}]),t}(a.Component),De=function(e){var t=e.nickname,n=e.onAccept,a=e.onClose,r=e.soundVolume;return s.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{volume:r,src:te.a,autoPlay:!0}),o.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito bg-khaki"},o.a.createElement("div",{className:"generic-popup-title"},o.a.createElement("span",null,"New game invitation!")),o.a.createElement("div",{className:"invitation-popup-content"},o.a.createElement("div",{className:"msg"},"You have been invited by ".concat(t,".")),o.a.createElement(z,{time:10,onEnd:a}),o.a.createElement("div",{className:"popup-buttons"},o.a.createElement("button",{className:"border-neon border-neon-lime",onClick:n},o.a.createElement("span",null,"Accept")),o.a.createElement("button",{className:"border-neon border-neon-orange",onClick:a},o.a.createElement("span",null,"Decline")))))),document.body)},Re=function(e){var t=e.soundVolume;return s.a.createPortal(o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{volume:t,src:te.a,autoPlay:!0}),o.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},o.a.createElement("div",{className:"disconnected-popup-content"},o.a.createElement("div",{className:"msg"},"You have been disconnected from the server."),o.a.createElement("div",{className:"spinner-wrapper"},o.a.createElement("span",{className:"fa fa-spinner fa-spin fa-3x"})),o.a.createElement("div",{className:"msg"},"Trying to reconnect...")))),document.body)},_e="dev"==="prod ".trim()?"localhost:3231":"ws://cardman-multiplayer.herokuapp.com:80",we=n(24).setScore,je=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={display:!0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({display:!1})},2500)}},{key:"render",value:function(){return this.state.display?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"intro-logo"},o.a.createElement("div",{className:"text-nunito intro-1"},"Cardman\xa0"),o.a.createElement("div",{className:"text-nunito intro-2"},"Multiplayer"))):null}}]),t}(o.a.Component),Pe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).config={disconnectedTimeoutMs:5e3,defaultVolumeSettings:{musicVol:.5,soundVol:.5}},n.isInCache=function(e){return null!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)},n.invitationHandler=function(e){var t=e.id,a=void 0===t?null:t,o=e.socketId,r=void 0===o?null:o;a===n.state.player.id?n.addPopup({title:"Error!",content:"You cannot invite yourself."}):n.state.socket.emit(Ee.INVITATION,{id:a,socketId:r})},n.initializeSocket=function(){var e=Se()(_e);n.setState({socket:e}),e.on("connect",function(){console.log("Connected to server.")}),e.on("pong",function(e){e>n.config.disconnectedTimeoutMs?n.setState({isDisconnected:!0}):n.setState({isDisconnected:!1})}),[Ee.PLAYER_CONNECTED,Ee.PLAYER_DISCONNECTED,Ee.REFRESH_PLAYERS].forEach(function(t){e.on(t,function(e){var t=e.connectedPlayers;n.setState({connectedPlayers:t})})}),e.on(Ee.INVITATION,function(e){var t=e.nickname,a=e.socketId,o=n.state.socket;n.setState({isInvitationModal:!0,invitationNickname:t,onInvitationAccept:function(){n.setState({isInvitationModal:!1},function(){o.emit(Ee.INVITATION_ACCEPTED,{fromSocketId:a,to:n.state.player})})}})}),e.on(Ee.GAME_CREATED,function(e){var t=e.gameId;n.setState({gameId:t},function(){n.props.history.push("/walkthrough")})}),e.on(Ee.GAME_STARTED,function(e){var t=e.game;n.setGame({game:t}),n.setMove(Object(Ie.isMove)({game:t,player:n.state.player})),we({player:n.state.player,game:t,setTitle:n.setTitle})})},n.loginPlayer=function(e){var t=n.state.socket;t.emit(Ee.PLAYER_CONNECTED,e),n.setState({player:e}),t.on(Ee.PLAYER_CONNECTED,function(e){var t=e.connectedPlayers;n.setState({connectedPlayers:t}),n.props.history.push("/browser")})},n.logoutPlayer=function(){n.state.socket.emit(Ee.LOGOUT),n.setState({player:null})},n.setTitle=function(e){var t=e.title,a=void 0===t?null:t,o=e.score,r=void 0===o?null:o;n.setState({title:a}),n.setState({score:r})},n.setGame=function(e){var t=e.game;n.setState({game:t},n.props.history.push("/game"))},n.setMove=function(e){n.setState({isMove:e})},n.setSettings=function(e){var t=e.soundVol,a=e.musicVol;"/game"===n.props.location.pathname&&(a=0),n.setState({volumeSettings:{soundVol:t,musicVol:a}});var o={musicVol:a,soundVol:t};localStorage.setItem("cachedVolumeSettings",JSON.stringify(o))},n.muteMusic=function(e){n.setState({volumeSettings:Object(i.a)({},n.state.volumeSettings,{muted:e})})},n.popupsRef=o.a.createRef(),n.state={title:"Cardman Multiplayer",score:null,player:null,socket:null,connectedPlayers:{},game:null,isMove:!1,volumeSettings:{musicVol:.5,soundVol:.5,muted:!1},isDisconnected:!1,gameId:null,isInvitationModal:!1,invitationNickname:null,onInvitationAccept:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){"/"!==this.props.location.pathname&&null===this.state.player&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){if(this.isInCache("cachedVolumeSettings")){var e=JSON.parse(localStorage.getItem("cachedVolumeSettings"));this.setState({volumeSettings:{musicVol:e.musicVol,soundVol:e.soundVol}})}else{var t={musicVol:this.config.defaultVolumeSettings.musicVol,soundVol:this.config.defaultVolumeSettings.soundVol};localStorage.setItem("cachedVolumeSettings",JSON.stringify(t))}this.initializeSocket()}},{key:"componentWillUnmount",value:function(){this.logoutPlayer()}},{key:"render",value:function(){var e=this,t=this.state,n=t.socket,a=t.player,r=t.game,s=t.gameId,i=t.isMove,c=t.connectedPlayers,l=this.state,u=l.volumeSettings,d=l.isInvitationModal,m=l.invitationNickname,p=l.onInvitationAccept,v=l.title,f=l.score,y=l.isDisconnected;return o.a.createElement("div",{className:"container of-rows width-full height-full text-nunito "},d&&o.a.createElement(De,{nickname:m,onAccept:p,onClose:function(){return e.setState({isInvitationModal:!1})},soundVolume:u.soundVol}),y&&o.a.createElement(Re,{soundVolume:u.soundVol}),o.a.createElement(je,null),o.a.createElement(I,{volumeSettings:u,title:v,score:f,setSettings:this.setSettings}),o.a.createElement(O.a,{src:Ce.a,autoPlay:!0,volume:u.musicVol,loop:!0,muted:u.muted}),o.a.createElement("div",{className:"row height-full width-full bg-lightgrey"},o.a.createElement(Ne.a,null,o.a.createElement(Me.a,{exact:!0,path:"/"},o.a.createElement(ke,{socket:n,loginPlayer:this.loginPlayer,setTitle:this.setTitle,volumeSettings:this.state.volumeSettings})),o.a.createElement(Me.a,{path:"/browser",render:function(){return o.a.createElement(ge,{player:a,setTitle:e.setTitle,invitationHandler:e.invitationHandler,connectedPlayers:c,volumeSettings:u})}}),o.a.createElement(Me.a,{path:"/walkthrough",render:function(){return o.a.createElement(Ae,{player:a,setTitle:e.setTitle,gameId:s,muteMusic:e.muteMusic,socket:n,soundVolume:u.soundVol})}}),o.a.createElement(Me.a,{path:"/game",render:function(){return o.a.createElement(pe,{player:a,game:r,muteMusic:e.muteMusic,socket:n,setTitle:e.setTitle,setMove:e.setMove,isMove:i,volumeSettings:u})}}))))}}]),t}(o.a.Component),xe=Object(b.a)(Pe),Ve=n(128);s.a.render(o.a.createElement(Ve.a,null,o.a.createElement(xe,null)),document.getElementById("root"))},14:function(e,t,n){e.exports=n.p+"static/media/popup.6f214bea.mp3"},19:function(e,t,n){},24:function(e,t){e.exports={isMove:function(e){var t=e.game,n=e.player,a=t.nextPlayerIndex;return t.playerSockets[a].id===n.id},setScore:function(e){var t=e.player,n=e.game,a=void 0===n?null:n,o=e.setTitle,r=a.playerSockets.filter(function(e){return e.socketId===t.socketId})[0],s=a.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0],i=a.score;o({score:{me:r.nickname,myScore:i[r.socketId],enemy:s.nickname,enemyScore:i[s.socketId]}})}}},36:function(e,t,n){},37:function(e,t){var n={DEFINITION_CARD:{id:"DEFINITION_CARD",title:"Definition card",description:"Shows you a definition of the word.",disabledText:"You can only use one card of this kind during a turn",use:function(e){var t=e.currentGame;e.socket,e.move;return t},doesMeetConditions:function(e){var t=e.game,a=e.player,o=e.index,r=a.socketId;return o===t.cards[r].findIndex(function(e){return e.id===n.DEFINITION_CARD.id})}},RANDOM_CORRECT_LETTER_CARD:{id:"RANDOM_CORRECT_LETTER_CARD",title:"Random correct letter",description:"Chooses a random correct letter.",disabledText:"",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=function(){var e=t.word.word,n=t.guessed.map(function(e){return e.key.toUpperCase()});e=e.toUpperCase();var a=Array.from(e).filter(function(e){return!n.includes(e)});return a[Math.floor(Math.random()*a.length)].toUpperCase()}();t.guessed.push({key:a,playerSocketId:n.playerSocketId});var o=t.playerSockets[t.nextPlayerIndex].socketId,r=t.playerSockets[1-t.nextPlayerIndex].socketId;return t.keys.push({key:a,playerSocketId:o}),t.keys.push({key:a,playerSocketId:r}),t},doesMeetConditions:function(e){e.game;return!0}},ADDITIONAL_TURN_CARD:{id:"ADDITIONAL_TURN_CARD",title:"Additional letter",description:"You can choose two letters in a turn.",disabledText:"You can only use one card of this kind during a turn",use:function(e){var t=e.currentGame;e.socket,e.move;return t.nextPlayerIndex=1-t.nextPlayerIndex,t},doesMeetConditions:function(e){var t=e.game,a=e.player,o=e.index,r=a.socketId;return o===t.cards[r].findIndex(function(e){return e.id===n.ADDITIONAL_TURN_CARD.id})}},REMOVE_ONE_UNFITTING_CARD:{id:"REMOVE_ONE_UNFITTING_CARD",title:"Remove one unfitting letter.",description:"Removes one unfitting letter from the current word.",disabledText:"",use:function(e){var t=e.currentGame,n=e.socket,a=(e.move,t.word.word),o=Array.from(a.toUpperCase()),r=[];t.keys.forEach(function(e){e.playerSocketId===n.user.socketId&&r.push(e.key)});for(var s=[],i=65;i<=90;i++){var c=String.fromCharCode(i).toUpperCase();o.includes(c)||r.includes(c)||s.push(c)}return t.keys.push({key:s[Math.floor(Math.random()*s.length)],playerSocketId:n.user.socketId}),t},doesMeetConditions:function(e){e.game;return!0}},REMOVE_TWO_UNFITTING_CARD:{id:"REMOVE_TWO_UNFITTING_CARD",title:"Remove two unfitting letters.",description:"Removes two unfitting letters from the current word.",disabledText:"",use:function(e){var t=e.currentGame,a=e.socket,o=e.move;return t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:o}),t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:o})},doesMeetConditions:function(e){e.game;return!0}},BLOCK_CARD:{id:"BLOCK_CARD",title:"Block enemy cards for 2 turns.",description:"Blocks enemy cards for 2 turns.",disabledText:"You cannot block an already blocked player",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=t.playerSockets.filter(function(e){return e.socketId!==n.playerSocketId})[0].socketId;return 0===t.blockCounters[a]&&(t.blockCounters[a]=2),t},doesMeetConditions:function(e){var t=e.game,n=e.player,a=t.playerSockets.filter(function(e){return e.socketId!==n.socketId})[0].socketId;return 0===t.blockCounters[a]}},IMMUNE_TO_BLOCK_CARD:{id:"IMMUNE_TO_BLOCK_CARD",title:"Immune to block.",description:"Immune to blocking cards for 2 turns",disabledText:"You can only use one card of this kind during a turn",use:function(e){var t=e.currentGame,n=(e.socket,e.move.playerSocketId),a=t.blockCounters[n];return t.blockCounters[n]=a-2,t},doesMeetConditions:function(e){e.game;return!0}},LOOK_UP_CARD:{id:"LOOK_UP_CARD",title:"Look up enemy card",description:"You can look up one of the enemies cards",disabledText:"You cannot use it when enemy does not have cards",use:function(e){var t=e.currentGame;e.socket,e.move;return t},doesMeetConditions:function(e){var t=e.game,n=e.player,a=t.playerSockets.filter(function(e){return e.socketId!==n.socketId})[0].socketId;return 0!==t.cards[a].length}},SWAP_RANDOM_CARDS:{id:"SWAP_RANDOM_CARDS",title:"Swap with opponent.",description:"Swap your card for a random opponents card.",disabledText:"You must have a card besides this one in the deck. Your opponent has to have at least 1 card.",use:function(e){var t=e.currentGame,n=(e.socket,e.move),o=a(t,n.playerSocketId),r=t.cards[n.playerSocketId],s=t.cards[o],i=Math.floor(Math.random()*r.length),c=Math.floor(Math.random()*s.length),l=r[i],u=s[c];return t.cards[n.playerSocketId][i]=u,t.cards[o][c]=l,t},doesMeetConditions:function(e){var t=e.game,a=e.player,o=t.cards,r=o[a.socketId];return 0!==o[t.playerSockets.filter(function(e){return e.socketId!==a.socketId})[0].socketId].length&&!1!==r.some(function(e){return e.id!==n.SWAP_RANDOM_CARDS.id})}},RANDOMIZE_YOURSELF_CARD:{id:"RANDOMIZE_YOURSELF_CARD",title:"Randomize a card",description:"A random card of yours gets changed.",disabledText:"",use:function(e){var t=e.currentGame,a=(e.socket,e.move);return t.cards[a.playerSocketId].push(function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){e.game;return!0}},RANDOMIZE_ENEMY_CARD:{id:"RANDOMIZE_ENEMY_CARD",title:"Randomize an enemies card",description:"A random card of your opponent gets changed.",disabledText:"You cannot use it when enemy does not have cards",use:function(e){var t=e.currentGame,a=(e.socket,e.move),o=t.playerSockets.filter(function(e){return e.socketId!==a.playerSocketId})[0].socketId,r=t.cards[o].length,s=Math.floor(Math.random()*r);return r>0&&(t.cards[o][s]=function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){var t=e.game,n=e.player,a=t.playerSockets.filter(function(e){return e.socketId!==n.socketId})[0].socketId;return 0!==t.cards[a].length}}},a=function(e,t){return e.playerSockets.filter(function(e){return e.socketId!==t})[0].socketId},o=function(){var e=Math.floor(Math.random()*Object.keys(n).length),t=Object.keys(n)[e];return n[t]};e.exports={getRandomCard:o,generateCards:function(e){for(var t=[],a=!1,r=0;r<e;r++){var s=o();s.id===n.ADDITIONAL_TURN_CARD.id?a?r-=1:(a=!0,t.push(s)):t.push(s)}return t},Cards:n,getCard:function(e){return n[e]},resupplyCards:function(e){for(var t=e.cards,n=0;n<Object.keys(t).length;n++){var a=Object.keys(t)[n],r=t[a];r.length<3&&r.push(o()),t[a]=r}return t}}},38:function(e,t,n){},57:function(e,t,n){e.exports=n.p+"static/media/card_drop.f8713f77.mp3"},58:function(e,t,n){e.exports=n.p+"static/media/card_flip.63e37b8e.mp3"},59:function(e,t,n){e.exports=n.p+"static/media/card_flip2.e1b8fb14.mp3"},60:function(e,t,n){e.exports=n.p+"static/media/card_flip3.dff27e09.mp3"},61:function(e,t,n){e.exports=n.p+"static/media/button_click.923d6dfa.mp3"},62:function(e,t,n){e.exports=n.p+"static/media/turn_end.e1720e84.mp3"},65:function(e,t,n){e.exports=n.p+"static/media/bg-lower.b0652969.mp3"},66:function(e,t,n){e.exports=n(126)},71:function(e,t,n){},8:function(e,t){e.exports={PLAYER_CONNECTED:"PLAYER_CONNECTED",PLAYER_DISCONNECTED:"PLAYER_DISCONNECTED",VERIFY_USER:"VERIFY_USER",LOGOUT:"LOGOUT",INVITATION:"INVITATION",INVITATION_ACCEPTED:"INVITATION_ACCEPTED",GAME_STARTED:"GAME_STARTED",GAME_MOVE:"GAME_MOVE",WIN:"WIN",REFRESH_PLAYERS:"REFRESH_PLAYERS",GAME_CREATED:"GAME_CREATED",WALKTHROUGH_READY:"WALKTHROUGH_READY"}},84:function(e,t){e.exports={roundAndConvertVolume:function(e){return Math.round(10*parseInt(e)/100)/10}}},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t){e.exports={Result:{GAME_TIE:"GAME_TIE",TURN_WIN:"TURN_WIN",TURN_TIE:"TURN_TIE",GAME_WIN:"GAME_WIN",NOTHING:"NOTHING"}}},96:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.5ff7b8a0.chunk.js.map