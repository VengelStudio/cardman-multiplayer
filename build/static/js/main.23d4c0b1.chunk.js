(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),s=n.n(o),i=n(11),l=n(2),c=n(3),d=n(5),u=n(4),p=n(6),m=(n(71),function(e){var t=e.title,n=void 0===t?null:t,a=e.score,o=void 0===a?null:a;return r.a.createElement("div",{className:"column auto has-background-dark header"},o&&r.a.createElement("div",{className:"title has-text-white-ter"},r.a.createElement("div",{className:"scoreHeader"},r.a.createElement("div",{className:"flex-item me"},r.a.createElement("span",null,o.me)),r.a.createElement("div",{className:"flex-item score"},r.a.createElement("span",null,"".concat(o.myScore,":").concat(o.enemyScore))),r.a.createElement("div",{className:"flex-item enemy"},r.a.createElement("span",null,o.enemy)))),n&&r.a.createElement("h1",{className:"title has-text-white-ter"},n))}),v=n(15),h=n.n(v),f=n(53),g=n(54),y=n(55),E=n(84).roundAndConvertVolume,k=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){"sound-slider-thumb"===e.target.id?n.props.setSettings({soundVol:E(e.target.value),musicVol:n.props.volumeSettings.musicVol}):"music-slider-thumb"===e.target.id&&n.props.setSettings({soundVol:n.props.volumeSettings.soundVol,musicVol:E(e.target.value)})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=100*this.props.volumeSettings.soundVol,n=100*this.props.volumeSettings.musicVol;return r.a.createElement("div",{className:"options-btn"},r.a.createElement("div",{className:"gear-icon-wrapper"},r.a.createElement(h.a,{icon:y.cog,size:32,className:"gear-icon"})),r.a.createElement("div",{className:"dropdown-options border-neon border-neon-translucent"},r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement("div",{className:"options-items"},r.a.createElement("div",{className:"options-item"},r.a.createElement(h.a,{className:"options-icon",icon:f.volume_2,size:32}),r.a.createElement("span",{className:"options-item-description"},"Sound volume: ".concat(t,"%")),r.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},r.a.createElement("input",{type:"range",min:"0",max:"100",id:"sound-slider-thumb",className:"options-slider slider",value:t,onChange:function(t){return e.onChange(t)}}))),r.a.createElement("div",{className:"options-item"},r.a.createElement(h.a,{className:"options-icon",icon:g.note,size:32}),r.a.createElement("span",{className:"options-item-description"},"Music volume: ".concat(n,"%")),r.a.createElement("div",{className:"slider-wrapper input-neon border-neon border-neon-violet"},r.a.createElement("input",{type:"range",min:"0",max:"100",id:"music-slider-thumb",className:"options-slider slider",value:n,onChange:function(t){return e.onChange(t)}})))))))}}]),t}(a.Component),b=n(132),S=(n(85),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={volumeSettings:n.props.volumeSettings},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row header width-full semi-bold bg-dark color-lightblue padding-sm height-sm text-lg content-hcenter content-vcenter"},r.a.createElement(k,{volumeSettings:this.state.volumeSettings,setSettings:this.props.setSettings}),r.a.createElement(m,{title:this.props.title,score:this.props.score}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"/game"===e.location.pathname?{volumeSettings:Object(i.a)({},e.volumeSettings,{musicVol:0})}:{volumeSettings:e.volumeSettings}}}]),t}(a.Component)),I=Object(b.a)(S),C=n(16),N=n(10),O=n.n(N),M=(n(87),n(37),function(e){var t=e.id,n=e.isMine,a=e.isUsed,o=e.isDisabled,s=e.isBlocked,i=e.isDiscardEnabled,l="card-image ";return(a||o||s||i)&&(l+="card-image-used "),n?r.a.createElement("img",{draggable:!o,onMouseDown:function(){return!o},className:l,src:"images/cards/".concat(t,".svg"),alt:"Playing card."}):r.a.createElement("img",{draggable:"false",onMouseDown:function(){return!1},style:{userDrag:"none"},className:"".concat(l," default-pointer"),src:"images/cards/placeholder.svg",alt:"Playing card."})}),D=function(e){var t=e.description;return e.displayTooltip?r.a.createElement("div",{className:"card-info",dangerouslySetInnerHTML:{__html:t}}):null},T=function(e){var t=e.isUsed,n=e.isDisabled,a=e.isBlocked,o=e.onClick,s=e.isDiscardEnabled,i=e.onDiscard;return s?r.a.createElement("button",{className:"card-discard-button",onClick:i},r.a.createElement("div",null,r.a.createElement("span",null,"Click to discard"))):t?r.a.createElement("button",{className:"card-use-abort-button",onClick:o},r.a.createElement("div",null,r.a.createElement("span",null,"Click to abort"))):n?r.a.createElement("div",{className:"card-disabled"},r.a.createElement("span",null,"This card doesn't meet the conditions. Check the description.")):a?r.a.createElement("div",{className:"card-disabled"},r.a.createElement("span",null,"This card is disabled.")):null},A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).cardClasses=function(){var e="card ";return n.props.isMine&&(e+="hover-pointer"),e},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.cardClasses()},r.a.createElement(M,{id:this.props.card.id,isDisabled:this.props.isDisabled,isMine:this.props.isMine,isUsed:this.props.isUsed,isBlocked:this.props.isBlocked,isDiscardEnabled:this.props.isDiscardEnabled}),r.a.createElement(T,{isDiscardEnabled:this.props.isDiscardEnabled,isDisabled:this.props.isDisabled,isUsed:this.props.isUsed,isBlocked:this.props.isBlocked,onClick:function(){e.props.onUseAbort()},onDiscard:function(){e.props.onDiscard(e.props.index)}}),r.a.createElement(D,{description:this.props.card.description,displayTooltip:this.props.displayTooltip}))}}]),t}(a.Component),R=n(28),_=n(58),w=n.n(_),j=n(59),P=n.n(j),x=n(38).Cards,V=function(e){function t(){var e,n,a=this;Object(l.a)(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={displayTooltip:n.props.areMine},n.getBg=function(){return n.props.move?{animationName:"moveFlashing",animationDuration:"400ms",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate-reverse",animationFillMode:"forwards"}:null},n.GenerateCard=function(e){var t=e.card,a=e.isMine,o=e.index,s=e.isDisabled,i=e.blockCounter;if(a){var l=n.props.usedCardIndexes[o],c=JSON.stringify({cardId:t.id,index:o}),d=!1;return i>0&&i<=2&&(d=!0),r.a.createElement(R.Draggable,{enabled:a&&!l&&!s&&!d,onDragStart:function(){n.setState({displayTooltip:!1}),n.props.playSound(w.a),n.props.setCardTargetHighlight(!0)},onDragEnd:function(){n.setState({displayTooltip:!0}),n.props.playSound(P.a),n.props.setCardTargetHighlight(!1)},type:"card",data:c},r.a.createElement("li",null,r.a.createElement(A,{isDisabled:s,isBlocked:d,index:o,card:t,displayTooltip:n.state.displayTooltip,isDiscardEnabled:n.props.isDiscardEnabled,isMine:a,isUsed:l,onUseAbort:function(){n.props.onUseAbort(o)},onDiscard:function(e){n.props.move&&n.props.onDiscard(e,t.id)}})))}return r.a.createElement("li",null,r.a.createElement(A,{card:t,displayTooltip:n.state.displayTooltip,isMine:a}))},n.CardsSpawner=function(){var e=n.props,t=e.cards,o=e.areMine,s=e.player,i=e.game,l=0;return null!==i&&(l=i.blockCounters[s.socketId]),null!==t?t.map(function(e,t){var n=x[e.id];return r.a.createElement(a.GenerateCard,{card:e,index:t,key:t,isMine:o,isDisabled:!n.doesMeetConditions(i,s),blockCounter:l})}):null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cards",style:this.getBg()},r.a.createElement("span",{className:"cards-title"},this.props.title&&this.props.title),r.a.createElement("div",{className:"cards-wrapper"},r.a.createElement("ul",null,r.a.createElement(this.CardsSpawner,null))))}}]),t}(a.Component),U=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){n.props.onClick(),!1===n.props.isClicked&&n.props.moveHandler({move:{type:"key",key:n.props.letter,playerSocketId:n.props.player.socketId}})},n.getStyle=function(){var e=null;return e={backgroundColor:"#519C3F"},n.props.isUsed&&(e={backgroundColor:"#555",textDecoration:"none"}),n.props.isClicked&&(e=Object(i.a)({},e,{borderWidth:"0.3vh",borderStyle:"solid",borderColor:"orange"})),e},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{style:this.getStyle(),onClick:this.clickHandler,className:"key"},this.props.letter)}}]),t}(a.Component),H=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={clickedIndex:null},n.generateKeys=function(){for(var e=[],t=function(t){var a=String.fromCharCode(t).toUpperCase(),o=n.props.keys.filter(function(e){return e.playerSocketId===n.props.player.socketId}),s=(o=o.map(function(e){return e.key})).includes(a),i=n.props.clickedIndex===t;e.push(r.a.createElement(U,{moveHandler:n.props.moveHandler,onClick:function(){return e=t,void(n.props.clickedIndex===e?(n.props.setSelectedKey(null),n.props.clearKeyMove()):n.props.setSelectedKey(e));var e},key:t,player:n.props.player,letter:a,isUsed:s,isClicked:i}))},a=65;a<=90;a++)t(a);return e},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"keyboard border-neon border-light-translucent"},this.generateKeys().map(function(e){return e}))}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).timeInterval=null,n.state={time:n.props.time,wrapperStyle:{},circleStyle:{animation:"countdown ".concat(n.props.time,"s linear 1 forwards")},propsStyle:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeInterval=setInterval(function(){e.setState(function(e){return{time:e.time-1}},function(){0===e.state.time&&(clearInterval(e.timeInterval),e.props.onEnd&&e.props.onEnd(),e.setState({style:Object(i.a)({display:"none"},e.state.style)}))})},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeInterval)}},{key:"render",value:function(){return r.a.createElement("div",{style:this.state.wrapperStyle,className:"timer"},r.a.createElement("div",{id:"timer-number"},this.state.time),r.a.createElement("svg",{className:"timer-svg"},r.a.createElement("circle",{style:this.state.circleStyle,r:"18",cx:"20",cy:"20"})))}}]),t}(a.Component),W=function(e){var t=e.side;return r.a.createElement("div",{className:"state-chains "+t},r.a.createElement("span",null,"Cards blocked for ".concat(e.state," turns.")))},G=function(e){var t=e.side,n=-1*e.state;return r.a.createElement("div",{className:"state-shield "+t},r.a.createElement("span",null,"Immune to block cards for ".concat(n," turns.")))},Y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getIcon=function(e,t){return e>0?r.a.createElement(W,{state:e,side:t}):e<0?r.a.createElement(G,{state:e,side:t}):null},n.getPlayerState=function(e){var t=n.props,a=t.game,r=t.player;if(null===r||null===a)return null;if(e)return n.getIcon(a.blockCounters[r.socketId],"left-1vh");var o=a.playerSockets.filter(function(e){return e.socketId!==r.socketId})[0].socketId;return n.getIcon(a.blockCounters[o],"right-1vh")},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"player-state"},this.getPlayerState(!0),this.getPlayerState(!1))}}]),t}(a.Component),F=(n(91),n(60)),B=n.n(F),K=n(61),z=n.n(K),J=n(62),Z=n.n(J),q=n(29),Q=n(14),X=n.n(Q),$=(n(20),function(e){var t=e.onClose,n=e.title,a=e.content,o=e.soundVolume;return s.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{volume:o,src:X.a,autoPlay:!0}),r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null,n),r.a.createElement("button",{onClick:t,className:"btn-popup-close"},r.a.createElement(v.Icon,{icon:q.cross,size:"1.6vh",className:"close-icon"}))),r.a.createElement("div",{className:"generic-popup-content"},a))),document.body)}),ee=function(e){var t=e.cardId,n=e.description,a=e.onClose,o=e.soundVolume;return s.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{volume:o,src:X.a,autoPlay:!0}),r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null),r.a.createElement("button",{onClick:a,className:"btn-popup-close"},r.a.createElement(v.Icon,{icon:q.cross,size:"1.6vh",className:"close-icon"}))),r.a.createElement("div",{className:"lookup-card-wrapper"},r.a.createElement("img",{className:"lookup-card-display",src:"images/cards/".concat(t,".svg"),alt:"Card"}),r.a.createElement("span",null,n)))),document.body)},te=n(38).Cards,ne=function(e){var t=e.move,n=e.onClick,a="Waiting...",o="end-turn-btn button-pointer border-neon border-light-translucent ";return t?(o+="end-turn-btn-hover",a="End turn"):o+="end-turn-btn-waiting ",r.a.createElement("button",{onClick:n,disabled:!t,className:o},a)},ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={keyMove:null,cardMoves:[],clickedIndex:null,isDiscardEnabled:!1,isWordDefinitionModal:!1,wordDefinition:null,isMoveModal:!1,isPeekModal:!1,peekCardId:null,peekDescription:null},n.setSelectedKey=function(e){n.props.playSound(Z.a),n.setState({clickedIndex:e})},n.colorDisplayWord=function(e){e=e.toUpperCase();var t=[],a=n.props.game.guessed,o=n.props.player.socketId;return Array.from(e).forEach(function(e,n){var s=null;"_"!==e&&" "!==e&&(s=a.filter(function(t){return t.key===e})[0].playerSocketId===o?{color:"#0900ff"}:{color:"#b92e34"});t.push(r.a.createElement("span",{key:n,style:s},e))}),t},n.onDrop=function(e){if(n.props.move){var t=JSON.parse(e.card),a={index:t.index,type:"card",card:t.cardId,playerSocketId:n.props.player.socketId},r=n.props.usedCardIndexes;r[t.index]=!0,n.props.updateUsedCardIndexes(r),!1===n.state.cardMoves.some(function(e){return e.index===t.index})&&(setTimeout(function(){n.props.playSound(B.a)},100),n.setState({cardMoves:[].concat(Object(C.a)(n.state.cardMoves),[a])}))}},n.onMove=function(e){var t=e.move;n.props.move&&n.setState({keyMove:t})},n.clearKeyMove=function(){n.setState({keyMove:null,clickedIndex:null})},n.onEndTurn=function(){if(null!==n.state.keyMove||n.state.cardMoves.length>0){if(n.props.move){var e=[],t=n.state,a=t.keyMove,r=t.cardMoves;null!==a&&e.push(a),r!==[]&&(e=[].concat(Object(C.a)(e),Object(C.a)(r))),e=e.map(function(e){return Object(i.a)({},e,{discarded:!1})}),n.props.moveHandler({moves:e}),n.setSelectedKey(null),n.props.updateUsedCardIndexes({0:!1,1:!1,2:!1}),n.setState({keyMove:null,cardMoves:[],clickedIndex:null}),n.props.playSound(z.a),r.forEach(function(e){if(e.card===te.DEFINITION_CARD.id){var t=n.props.game.word.definitions,a=Math.floor(Math.random()*t.length);n.setState({isWordDefinitionModal:!0,wordDefinition:t[a]})}else if(e.card===te.LOOK_UP_CARD.id){var r=n.props.game.playerSockets.filter(function(e){return e.socketId!==n.props.player.socketId})[0].socketId,o=n.props.game.cards[r],s=Math.floor(Math.random()*o.length),i=o[s].id,l=te[i].description;n.setState({isPeekModal:!0,peekCardId:o[s].id,peekDescription:l})}})}}else n.setState({isMoveModal:!0})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];null!==this.props.game&&(t=this.colorDisplayWord(this.props.game.displayWord));var n="word border-neon border-neon-violet ";this.props.isCardTargetHighlight&&this.props.move&&(n+="word-glow");var a=this.state,o=a.isWordDefinitionModal,s=a.wordDefinition,i=a.isMoveModal,l=a.isPeekModal,c=a.peekCardId,d=a.peekDescription,u=a.clickedIndex,p=this.props,m=p.onMoveTimeout,v=p.move,h=p.game,f=p.player,g=p.volumeSettings;return r.a.createElement("div",{className:"content"},o&&r.a.createElement($,{title:"Word definition:",content:s,onClose:function(){return e.setState({isWordDefinitionModal:!1})},soundVolume:g.soundVol}),i&&r.a.createElement($,{title:"Cannot continue!",content:"You have to make a a move.",onClose:function(){return e.setState({isMoveModal:!1})},soundVolume:g.soundVol}),l&&r.a.createElement(ee,{cardId:c,description:d,onClose:function(){return e.setState({isPeekModal:!1})},soundVolume:g.soundVol}),r.a.createElement(Y,{player:f,game:h}),r.a.createElement("div",{className:"timer-wrapper"},v&&r.a.createElement(L,{time:30,onEnd:m})),r.a.createElement("div",{className:"game"},r.a.createElement(R.Droppable,{types:["card"],onDrop:this.onDrop},r.a.createElement("div",{className:n},t.map(function(e){return e}))),r.a.createElement(ne,{move:v,onClick:this.onEndTurn}),r.a.createElement("div",{className:"keyboard-wrapper"},h&&r.a.createElement(H,{player:f,moveHandler:this.onMove,keys:h.keys,setSelectedKey:this.setSelectedKey,clickedIndex:u,clearKeyMove:this.clearKeyMove}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.cardMoves;return Object.keys(e.usedCardIndexes).forEach(function(t){t=parseInt(t),!1===e.usedCardIndexes[t]&&(n=n.filter(function(e){return e.index!==t}))}),{cardMoves:n}}}]),t}(a.Component),re=n(25),oe=re.setScore,se=re.isMove,ie=n(8),le=ie.GAME_MOVE,ce=ie.WIN,de=n(92).Result,ue=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={game:n.props.game,gameFromProps:!0,allowMove:!0,myCards:null,enemyCards:null,cardTargetHighlight:!1,usedCardIndexes:{0:!1,1:!1,2:!1},soundSrc:"",isDiscardEnabled:!1,discardMoves:[],guessedWordModal:null,isTieModal:!1,gameEndWinnerModal:null},n.initializeSocket=function(){var e=n.props.socket;e.on(le,function(e){var t=e.game;n.setState({game:t},function(){n.props.setMove(se({game:n.state.game,player:n.props.player}))})}),e.on(ce,function(e){var t=e.winner,a=e.score,r=e.type,o=e.game,s=n.props,l=s.setMove,c=s.setTitle,d=s.player,u=null;r===de.TURN_WIN?(u={gameFromProps:!1,game:o},l(se({game:o,player:d}))):r===de.TURN_TIE?(u={gameFromProps:!1,game:o},l(se({game:o,player:d})),n.setState({isTieModal:!0})):r===de.GAME_WIN&&(u={allowMove:!1},n.setState({gameEndWinnerModal:t.nickname})),r!==de.TURN_WIN&&r!==de.TURN_TIE&&r!==de.GAME_WIN||n.setState({guessedWordModal:n.state.game.word.word}),oe({player:d,game:o,setTitle:c,score:a}),n.setState(Object(i.a)({},u))})},n.moveHandler=function(e){var t=e.moves,a=void 0===t?null:t;if(!0===n.state.allowMove){var r=n.props.socket,o=[].concat(Object(C.a)(a),Object(C.a)(n.state.discardMoves));r.emit(le,{game:n.state.game,moves:o})}},n.onMoveTimeout=function(){n.moveHandler({moves:[{type:"key",key:"",playerSocketId:n.props.player.socketId}]})},n.setCardTargetHighlight=function(e){n.setState({cardTargetHighlight:e})},n.updateUsedCardIndexes=function(e){n.setState({usedCardIndexes:e})},n.onUseAbort=function(e){var t=n.state.usedCardIndexes;t[e]=!1,n.updateUsedCardIndexes(t)},n.playSound=function(e){n.setState({soundSrc:e})},n.onDiscard=function(e,t){var a={type:"card",card:t,playerSocketId:n.props.player.socketId,discarded:!0},r=n.state.game,o=n.props.player.socketId;r.cards[o]=r.cards[o].filter(function(t,n){return n!==e});var s=n.state.discardMoves;s.push(a),n.setState({discardMoves:s,game:r})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"ctrlPressHandler",value:function(e,t){var n=this.props.player,a=this.state.game;if(null!==n&&null!==a){var r=n.socketId,o=a.blockCounters[r];17===e.keyCode&&o<=0&&this.setState({isDiscardEnabled:t})}}},{key:"componentDidMount",value:function(){var e=this;this.props.socket&&this.initializeSocket(),this.props.muteMusic(!0),document.addEventListener("keydown",function(t){e.ctrlPressHandler(t,!0)},!1),document.addEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keydown",function(t){e.ctrlPressHandler(t,!1)},!1),document.removeEventListener("keyup",function(t){e.ctrlPressHandler(t,!1)},!1)}},{key:"render",value:function(){var e=this,t={my:null,enemy:null};if(null!==this.state.game){var n=this.state.game.cards,a=this.props.player.socketId;t.my=n[a];var o=this.state.game.playerSockets.filter(function(t){return t.socketId!==e.props.player.socketId})[0].socketId;t.enemy=n[o]}return r.a.createElement("div",{className:"gameWrapper"},this.state.guessedWordModal&&r.a.createElement($,{title:"Guessed word:",content:this.state.guessedWordModal,volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({guessedWordModal:null})}}),this.state.isTieModal&&r.a.createElement($,{title:"TIE.",content:"Turn is tied. None of the players won.",volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({isTieModal:null})}}),this.state.gameEndWinnerModal&&r.a.createElement($,{title:"GAME ENDED.",content:"Player ".concat(this.state.gameEndWinnerModal," has won the game."),volumeSettings:this.props.volumeSettings,onClose:function(){e.setState({gameEndWinnerModal:null}),e.props.history.push("/browser"),e.setState({game:null})}}),r.a.createElement(O.a,{volume:this.props.volumeSettings.soundVol,src:this.state.soundSrc,autoPlay:!0,onEnded:function(){e.setState({soundSrc:""})}}),r.a.createElement(V,{cards:t.my,onUseAbort:this.onUseAbort,usedCardIndexes:this.state.usedCardIndexes,areMine:!0,move:this.props.isMove,title:"Your cards:",setCardTargetHighlight:this.setCardTargetHighlight,playSound:this.playSound,game:this.state.game,player:this.props.player,isDiscardEnabled:this.state.isDiscardEnabled,onDiscard:this.onDiscard}),r.a.createElement(ae,{player:this.props.player,updateUsedCardIndexes:this.updateUsedCardIndexes,usedCardIndexes:this.state.usedCardIndexes,moveHandler:this.moveHandler,onMoveTimeout:this.onMoveTimeout,move:this.props.isMove,game:this.state.game,addPopup:this.props.addPopup,isCardTargetHighlight:this.state.cardTargetHighlight,playSound:this.playSound,volumeSettings:this.props.volumeSettings}),r.a.createElement(V,{cards:t.enemy,usedCardIndexes:{0:!1,1:!1,2:!1},areMine:!1,move:!this.props.isMove,title:"Enemy cards:",setCardTargetHighlight:this.setCardTargetHighlight,playSound:this.playSound,game:this.state.game,player:this.props.player}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.gameFromProps&&e.game!==t.game?(oe({player:e.player,game:e.game,setTitle:e.setTitle}),{gameFromProps:!1,game:e.game}):null}}]),t}(a.Component),pe=Object(b.a)(ue),me=(n(39),n(63)),ve=n.n(me),he=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isButtonDisabled:!1,isTimeoutModal:!1},n.clickHandler=function(e){e.preventDefault(),!0===n.state.isButtonDisabled?n.setState({isTimeoutModal:!0}):(n.setState({isButtonDisabled:!0}),n.props.invitationHandler({id:n.props.id,socketId:n.props.socketId}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.setState({isButtonDisabled:!1})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(){var e=this;!0===this.state.isButtonDisabled&&setTimeout(function(){!0===e._isMounted&&e.setState({isButtonDisabled:!1})},5e3)}},{key:"render",value:function(){var e=this,t=this.state.isTimeoutModal,n=this.props,a=n.nickname,o=n.volumeSettings;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement($,{title:"Error!",content:"You are inviting too fast. Wait 5 seconds.",soundVolume:o.soundVol,onClose:function(){e.setState({isTimeoutModal:!1})}}),r.a.createElement("div",{className:"browser-entry width-full"},r.a.createElement("span",{className:"player-info"},r.a.createElement("span",{className:"nickname"},a)),r.a.createElement("button",{onClick:function(t){e.clickHandler(t)},className:"play border-neon border-neon-lime"},"Play")))}}]),t}(a.Component),fe=function(e){var t=e.player,n=e.connectedPlayers,a=e.invitationHandler,o=e.volumeSettings;n=Object.assign({},n),t&&delete n[t.nickname];var s=[];return Object.values(n).forEach(function(e){!1===e.isInGame&&s.push(r.a.createElement(he,{id:e.id,socketId:e.socketId,invitationHandler:a,nickname:e.nickname,volumeSettings:o,key:e.id,index:Object.values(n).indexOf(e)}))}),s},ge=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={connectedPlayers:n.props.connectedPlayers,playersInBrowser:fe({player:n.props.player,connectedPlayers:n.props.connectedPlayers,invitationHandler:n.props.invitationHandler,volumeSettings:n.props.volumeSettings}),searchedPlayer:null},n.searchPlayer=function(e){var t=e.target.value;if(""===t)n.setState({searchedPlayer:null});else{var a=Object.keys(n.props.connectedPlayers);a=a.filter(function(e){return e!==n.props.player.nickname});for(var r=0;r<a.length;r++)a[r].toLowerCase().includes(t.toLowerCase())&&n.setState({searchedPlayer:n.props.connectedPlayers[a[r]]})}},n.SearchedPlayer=function(){return fe({player:n.props.player,connectedPlayers:[n.state.searchedPlayer],invitationHandler:n.props.invitationHandler,volumeSettings:n.props.volumeSettings})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Players browser"})}},{key:"render",value:function(){var e=this.props.player,t=this.state,n=t.searchedPlayer,a=t.playersInBrowser;return r.a.createElement("div",{className:"players-browser container content-vcenter border-neon border-neon-orange"},r.a.createElement("div",{className:"players-browser-title bg-lightgrey width-full text-xlg text-center"},r.a.createElement("p",null,e&&r.a.createElement("span",null,"You are logged in as ",r.a.createElement("b",null,e.nickname),"."))),r.a.createElement("div",{className:"search-player"},r.a.createElement("input",{placeholder:"Search player",onChange:this.searchPlayer,className:"border-neon border-neon-blue"})),r.a.createElement(ve.a,{style:{width:"100%",height:"100%"}},n?r.a.createElement(this.SearchedPlayer,null):a.map(function(e){return e})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.connectedPlayers!==e.connectedPlayers?{playersInBrowser:fe({player:e.player,connectedPlayers:e.connectedPlayers,invitationHandler:e.invitationHandler,volumeSettings:e.volumeSettings}),connectedPlayers:e.connectedPlayers}:null}}]),t}(r.a.Component),ye=(n(99),n(8)),Ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).inputRef=r.a.createRef(),n.state={isNameLengthOpen:!1,isNameSpaceOpen:!1,isNameTakenOpen:!1,isAlreadyLoggedInOpen:!1},n.loginHandler=function(){var e=n.inputRef.current.value,t=n.props.socket;e.length<=1?n.setState({isNameLengthOpen:!0}):e.includes(" ")?n.setState({isNameSpaceOpen:!0}):t.emit(ye.VERIFY_USER,e,function(e){var t=e.player,a=e.isTaken;e.isIpFree?a?n.setState({isNameTakenOpen:!0}):n.props.loginPlayer(t):n.setState({isAlreadyLoggedInOpen:!0})})},n.submitOnEnter=function(e){13===e.which&&n.loginHandler()},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Login page"})}},{key:"render",value:function(){var e=this,t=this.props.volumeSettings;return r.a.createElement("div",{className:"login-page-content"},this.state.isNameLengthOpen&&r.a.createElement($,{title:"Error!",content:"Your nickname has to be longer.",onClose:function(){e.setState({isNameLengthOpen:!1})},soundVolume:t.soundVol}),this.state.isNameSpaceOpen&&r.a.createElement($,{title:"Error!",content:"Your nickname cannot have spaces.",onClose:function(){e.setState({isNameSpaceOpen:!1})},soundVolume:t.soundVol}),this.state.isNameTakenOpen&&r.a.createElement($,{title:"Error!",content:"This nickname is taken.",onClose:function(){e.setState({isNameTakenOpen:!1})},soundVolume:t.soundVol}),this.state.isAlreadyLoggedInOpen&&r.a.createElement($,{title:"Error!",content:"You are already logged in.",onClose:function(){e.setState({isAlreadyLoggedInOpen:!1})},soundVolume:t.soundVol}),r.a.createElement("div",{className:"infoNickname border-neon border-neon-violet"},r.a.createElement("p",null,"Please enter your nickname")),r.a.createElement("div",{className:"nickname-input"},r.a.createElement("input",{ref:this.inputRef,type:"text",maxLength:"15",className:"inputNickname border-neon border-neon-red",onKeyDown:this.submitOnEnter,placeholder:"Your nickname..."}),r.a.createElement("button",{className:"button-pointer border-neon border-neon-orange",onClick:this.loginHandler},"SUBMIT")))}}]),t}(a.Component),ke=n(64),be=n.n(ke),Se=n(25),Ie=n(133),Ce=n(130),Ne=n(65),Oe=n.n(Ne),Me=(n(128),function(){return r.a.createElement("div",{className:"walkthrough-desc"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("span",null,"Your cards which you can use during a turn.")),r.a.createElement("li",null,r.a.createElement("span",null,"Keyboard where you can guess a letter by clicking it and end turn.")),r.a.createElement("li",null,r.a.createElement("span",null,"Place for a random word. Your guessed letters are colored by blue and opponent's are red."))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"During a turn you can use cards and guess one letter.")),r.a.createElement("li",null,r.a.createElement("span",null,"To use a card drag it on the random word (number 3) and drop.")),r.a.createElement("li",null,r.a.createElement("span",null,"Game ends after you or your opponent win two rounds."))))}),De=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={buttonVisibility:!0},n.onReady=function(){n.props.socket.emit(ye.WALKTHROUGH_READY,{gameId:n.props.gameId}),n.setState({buttonVisibility:!1})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.setTitle({title:"Walkthrough"})}},{key:"render",value:function(){var e=this.state.buttonVisibility?"ok-btn border-neon border-neon-orange":"ok-btn-pressed ok-btn border-neon border-neon-orange",t=this.state.buttonVisibility?"READY":"Waiting for opponent...";return r.a.createElement("div",{className:"gameWrapper"},r.a.createElement("div",{className:"walkthrough"},r.a.createElement("div",{className:"walkthrough-content"},r.a.createElement("img",{className:"walkthrough-image",src:"images/walkthrough/walkthrough.png",alt:"Walkthrough screenshot"}),r.a.createElement(Me,null)),r.a.createElement("div",{className:"ok-btn-wrapper"},r.a.createElement("button",{className:e,onClick:this.onReady},t))))}}]),t}(a.Component),Te=function(e){var t=e.nickname,n=e.onAccept,a=e.onClose,o=e.soundVolume;return s.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{volume:o,src:X.a,autoPlay:!0}),r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito bg-khaki"},r.a.createElement("div",{className:"generic-popup-title"},r.a.createElement("span",null,"New game invitation!")),r.a.createElement("div",{className:"invitation-popup-content"},r.a.createElement("div",{className:"msg"},"You have been invited by ".concat(t,".")),r.a.createElement(L,{time:10,onEnd:a}),r.a.createElement("div",{className:"popup-buttons"},r.a.createElement("button",{className:"border-neon border-neon-lime",onClick:n},r.a.createElement("span",null,"Accept")),r.a.createElement("button",{className:"border-neon border-neon-orange",onClick:a},r.a.createElement("span",null,"Decline")))))),document.body)},Ae=function(e){var t=e.soundVolume;return s.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{volume:t,src:X.a,autoPlay:!0}),r.a.createElement("div",{className:"generic-popup border-neon border-neon-red text-nunito"},r.a.createElement("div",{className:"disconnected-popup-content"},r.a.createElement("div",{className:"msg"},"You have been disconnected from the server."),r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("span",{className:"fa fa-spinner fa-spin fa-3x"})),r.a.createElement("div",{className:"msg"},"Trying to reconnect...")))),document.body)},Re="ws://cardman-multiplayer.herokuapp.com:80",_e=n(25).setScore,we=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={display:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({display:!1})},2500)}},{key:"render",value:function(){return this.state.display?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"intro-logo"},r.a.createElement("div",{className:"text-nunito intro-1"},"Cardman\xa0"),r.a.createElement("div",{className:"text-nunito intro-2"},"Multiplayer"))):null}}]),t}(r.a.Component),je=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).config={disconnectedTimeoutMs:5e3,defaultVolumeSettings:{musicVol:.5,soundVol:.5}},n.isInCache=function(e){return null!==localStorage.getItem(e)&&void 0!==localStorage.getItem(e)},n.invitationHandler=function(e){var t=e.id,a=void 0===t?null:t,r=e.socketId,o=void 0===r?null:r;a===n.state.player.id?n.addPopup({title:"Error!",content:"You cannot invite yourself."}):n.state.socket.emit(ye.INVITATION,{id:a,socketId:o})},n.initializeSocket=function(){var e=be()(Re);n.setState({socket:e}),e.on("connect",function(){console.log("Connected to server.")}),e.on("pong",function(e){e>n.config.disconnectedTimeoutMs?n.setState({isDisconnected:!0}):n.setState({isDisconnected:!1})}),[ye.PLAYER_CONNECTED,ye.PLAYER_DISCONNECTED,ye.REFRESH_PLAYERS].forEach(function(t){e.on(t,function(e){var t=e.connectedPlayers;n.setState({connectedPlayers:t})})}),e.on(ye.INVITATION,function(e){var t=e.nickname,a=e.socketId,r=n.state.socket;n.setState({isInvitationModal:!0,invitationNickname:t,onInvitationAccept:function(){n.setState({isInvitationModal:!1},function(){r.emit(ye.INVITATION_ACCEPTED,{fromSocketId:a,to:n.state.player})})}})}),e.on(ye.GAME_CREATED,function(e){var t=e.gameId;n.setState({gameId:t},function(){n.props.history.push("/walkthrough")})}),e.on(ye.GAME_STARTED,function(e){var t=e.game;n.setGame({game:t}),n.setMove(Object(Se.isMove)({game:t,player:n.state.player})),_e({player:n.state.player,game:t,setTitle:n.setTitle})})},n.loginPlayer=function(e){var t=n.state.socket;t.emit(ye.PLAYER_CONNECTED,e),console.log(e),n.setState({player:e}),t.on(ye.PLAYER_CONNECTED,function(e){var t=e.connectedPlayers;n.setState({connectedPlayers:t}),n.props.history.push("/browser")})},n.logoutPlayer=function(){n.state.socket.emit(ye.LOGOUT),n.setState({player:null})},n.setTitle=function(e){var t=e.title,a=void 0===t?null:t,r=e.score,o=void 0===r?null:r;n.setState({title:a}),n.setState({score:o})},n.setGame=function(e){var t=e.game;n.setState({game:t},n.props.history.push("/game"))},n.setMove=function(e){n.setState({isMove:e})},n.setSettings=function(e){var t=e.soundVol,a=e.musicVol;"/game"===n.props.location.pathname&&(a=0),n.setState({volumeSettings:{soundVol:t,musicVol:a}});var r={musicVol:a,soundVol:t};localStorage.setItem("cachedVolumeSettings",JSON.stringify(r))},n.muteMusic=function(e){n.setState({volumeSettings:Object(i.a)({},n.state.volumeSettings,{muted:e})})},n.popupsRef=r.a.createRef(),n.state={title:"Cardman Multiplayer",score:null,player:null,socket:null,connectedPlayers:{},game:null,isMove:!1,volumeSettings:{musicVol:.5,soundVol:.5,muted:!1},isDisconnected:!1,gameId:null,isInvitationModal:!1,invitationNickname:null,onInvitationAccept:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){"/"!==this.props.location.pathname&&null===this.state.player&&this.props.history.push("/")}},{key:"componentDidMount",value:function(){if(this.isInCache("cachedVolumeSettings")){var e=JSON.parse(localStorage.getItem("cachedVolumeSettings"));this.setState({volumeSettings:{musicVol:e.musicVol,soundVol:e.soundVol}})}else{var t={musicVol:this.config.defaultVolumeSettings.musicVol,soundVol:this.config.defaultVolumeSettings.soundVol};localStorage.setItem("cachedVolumeSettings",JSON.stringify(t))}this.initializeSocket()}},{key:"componentWillUnmount",value:function(){this.logoutPlayer()}},{key:"render",value:function(){var e=this,t=this.state,n=t.socket,a=t.player,o=t.game,s=t.gameId,i=t.isMove,l=t.connectedPlayers,c=this.state,d=c.volumeSettings,u=c.isInvitationModal,p=c.invitationNickname,m=c.onInvitationAccept,v=c.title,h=c.score,f=c.isDisconnected;return r.a.createElement("div",{className:"container of-rows width-full height-full text-nunito "},u&&r.a.createElement(Te,{nickname:p,onAccept:m,onClose:function(){return e.setState({isInvitationModal:!1})},soundVolume:d.soundVol}),f&&r.a.createElement(Ae,{soundVolume:d.soundVol}),r.a.createElement(we,null),r.a.createElement(I,{volumeSettings:d,title:v,score:h,setSettings:this.setSettings}),r.a.createElement(O.a,{src:Oe.a,autoPlay:!0,volume:d.musicVol,loop:!0,muted:d.muted}),r.a.createElement("div",{className:"row height-full width-full bg-lightgrey"},r.a.createElement(Ie.a,null,r.a.createElement(Ce.a,{exact:!0,path:"/"},r.a.createElement(Ee,{socket:n,loginPlayer:this.loginPlayer,setTitle:this.setTitle,volumeSettings:this.state.volumeSettings})),r.a.createElement(Ce.a,{path:"/browser",render:function(){return r.a.createElement(ge,{player:a,setTitle:e.setTitle,invitationHandler:e.invitationHandler,connectedPlayers:l,volumeSettings:d})}}),r.a.createElement(Ce.a,{path:"/walkthrough",render:function(){return r.a.createElement(De,{player:a,setTitle:e.setTitle,gameId:s,muteMusic:e.muteMusic,socket:n,soundVolume:d.soundVol})}}),r.a.createElement(Ce.a,{path:"/game",render:function(){return r.a.createElement(pe,{player:a,game:o,muteMusic:e.muteMusic,socket:n,setTitle:e.setTitle,setMove:e.setMove,isMove:i,volumeSettings:d})}}))))}}]),t}(r.a.Component),Pe=Object(b.a)(je),xe=n(131);s.a.render(r.a.createElement(xe.a,null,r.a.createElement(Pe,null)),document.getElementById("root"))},14:function(e,t,n){e.exports=n.p+"static/media/popup.6f214bea.mp3"},20:function(e,t,n){},25:function(e,t){e.exports={isMove:function(e){var t=e.game,n=e.player,a=t.nextPlayerIndex;return t.playerSockets[a].id===n.id},setScore:function(e){var t=e.player,n=e.game,a=void 0===n?null:n,r=e.setTitle,o=a.playerSockets.filter(function(e){return e.socketId===t.socketId})[0],s=a.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0],i=a.score;r({score:{me:o.nickname,myScore:i[o.socketId],enemy:s.nickname,enemyScore:i[s.socketId]}})}}},37:function(e,t,n){},38:function(e,t){var n={DEFINITION_CARD:{id:"DEFINITION_CARD",title:"Definition card",description:"Shows you a definition of the word.",use:function(e){var t=e.currentGame;e.socket,e.move;return t},doesMeetConditions:function(e){return!0}},RANDOM_CORRECT_LETTER_CARD:{id:"RANDOM_CORRECT_LETTER_CARD",title:"Random correct letter",description:"Chooses a random correct letter.",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=function(){var e=t.word.word,n=t.guessed.map(function(e){return e.key.toUpperCase()});e=e.toUpperCase();var a=Array.from(e).filter(function(e){return!n.includes(e)});return a[Math.floor(Math.random()*a.length)].toUpperCase()}();t.guessed.push({key:a,playerSocketId:n.playerSocketId});var r=t.playerSockets[t.nextPlayerIndex].socketId,o=t.playerSockets[1-t.nextPlayerIndex].socketId;return t.keys.push({key:a,playerSocketId:r}),t.keys.push({key:a,playerSocketId:o}),t},doesMeetConditions:function(e){return!0}},ADDITIONAL_TURN_CARD:{id:"ADDITIONAL_TURN_CARD",title:"Additional letter",description:"You can choose two letters in a turn.",use:function(e){var t=e.currentGame;e.socket,e.move;return t.nextPlayerIndex=1-t.nextPlayerIndex,t},doesMeetConditions:function(e){return!0}},REMOVE_ONE_UNFITTING_CARD:{id:"REMOVE_ONE_UNFITTING_CARD",title:"Remove one unfitting letter.",description:"Removes one unfitting letter from the current word.",use:function(e){var t=e.currentGame,n=e.socket,a=(e.move,t.word.word),r=Array.from(a.toUpperCase()),o=[];t.keys.forEach(function(e){e.playerSocketId===n.user.socketId&&o.push(e.key)});for(var s=[],i=65;i<=90;i++){var l=String.fromCharCode(i).toUpperCase();r.includes(l)||o.includes(l)||s.push(l)}return t.keys.push({key:s[Math.floor(Math.random()*s.length)],playerSocketId:n.user.socketId}),t},doesMeetConditions:function(e){return!0}},REMOVE_TWO_UNFITTING_CARD:{id:"REMOVE_TWO_UNFITTING_CARD",title:"Remove two unfitting letters.",description:"Removes two unfitting letters from the current word.",use:function(e){var t=e.currentGame,a=e.socket,r=e.move;return t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:r}),t=n.REMOVE_ONE_UNFITTING_CARD.use({currentGame:t,socket:a,move:r})},doesMeetConditions:function(e){return!0}},BLOCK_CARD:{id:"BLOCK_CARD",title:"Block enemy cards for 2 turns.",description:"<span>\n                <b>Blocks enemy cards for 2 turns.</b>\n            </span>\n            <span>\n                You can't block an already blocked player.<u>don't</u> add up.<br>\n                These values <u>don't</u> add up.\n            </span>",use:function(e){var t=e.currentGame,n=(e.socket,e.move),a=t.playerSockets.filter(function(e){return e.socketId!==n.playerSocketId})[0].socketId;return 0===t.blockCounters[a]&&(t.blockCounters[a]=2),t},doesMeetConditions:function(e,t){var n=e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId;return 0===e.blockCounters[n]}},IMMUNE_TO_BLOCK_CARD:{id:"IMMUNE_TO_BLOCK_CARD",title:"Immune to block.",description:"<span>\n                <b>Immune to blocking cards for 2 turns.</b>\n            </span>\n            <span>\n                These values <u>do</u> add up.\n            </span>",use:function(e){var t=e.currentGame,n=(e.socket,e.move.playerSocketId),a=t.blockCounters[n];return t.blockCounters[n]=a-2,t},doesMeetConditions:function(e){return!0}},LOOK_UP_CARD:{id:"LOOK_UP_CARD",title:"Look up enemy card",description:"You can look up one of the enemies cards only if they have any.",use:function(e){var t=e.currentGame;e.socket,e.move;return t},doesMeetConditions:function(e,t){var n=e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId;return 0!==e.cards[n].length}},SWAP_RANDOM_CARDS:{id:"SWAP_RANDOM_CARDS",title:"Swap with opponent.",description:"<span>\n                <b>Swap your card for a random opponents card.</b>\n            </span>\n            <span>\n                You must have a card besides this one in the deck. Your\n                opponent has to have at least 1 card.\n            </span>",use:function(e){for(var t=e.currentGame,a=(e.socket,e.move),r=t.playerSockets.filter(function(e){return e.socketId!==a.playerSocketId})[0].socketId,o=t.cards[r],s=t.cards[a.playerSocketId],i=Math.floor(Math.random()*s.length),l=null,c=!0;c;)o[l=Math.floor(Math.random()*o.length)].id!==n.SWAP_RANDOM_CARDS.id&&(c=!1);for(var d=!1,u=0;u<s.length;u++)if(s[u].id!==n.SWAP_RANDOM_CARDS.id){d=!0;break}if(o.length>=1&&!d){var p=s[i];o[l]=p,s[i]=o[l],t.cards[r]=o,t.cards[a.playerSocketId]=s}return t},doesMeetConditions:function(e,t){for(var a=e.cards,r=a[t.socketId],o=a[e.playerSockets.filter(function(e){return e.socketId!==t.socketId})[0].socketId],s=!1,i=0;i<r.length;i++)if(r[i].id!==n.SWAP_RANDOM_CARDS.id){s=!0;break}return!1!==s&&0!==o.length}},RANDOMIZE_YOURSELF_CARD:{id:"RANDOMIZE_YOURSELF_CARD",title:"Randomize a card",description:"A random card of yours gets changed.",use:function(e){var t=e.currentGame,a=(e.socket,e.move);return t.cards[a.playerSocketId].push(function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){return!0}},RANDOMIZE_ENEMY_CARD:{id:"RANDOMIZE_ENEMY_CARD",title:"Randomize an enemies card",description:"A random card of your opponent gets changed.",use:function(e){var t=e.currentGame,a=(e.socket,e.move),r=t.playerSockets.filter(function(e){return e.socketId!==a.playerSocketId})[0].socketId,o=t.cards[r].length,s=Math.floor(Math.random()*o);return o>0&&(t.cards[r][s]=function(){var e=["RANDOMIZE_YOURSELF_CARD",arguments.length>0&&void 0!==arguments[0]?arguments[0]:null],t=Object.values(n).filter(function(t){return!e.includes(t.id)});return t[Math.floor(Math.random()*t.length)]}()),t},doesMeetConditions:function(e){return!0}}},a=function(){var e=Math.floor(Math.random()*Object.keys(n).length),t=Object.keys(n)[e];return n[t]};e.exports={getRandomCard:a,generateCards:function(e){for(var t=[],r=!1,o=0;o<e;o++){var s=a();s.id===n.ADDITIONAL_TURN_CARD.id?r?o-=1:(r=!0,t.push(s)):t.push(s)}return t},Cards:n,getCard:function(e){return n[e]},resupplyCards:function(e){for(var t=e.cards,n=0;n<Object.keys(t).length;n++){var r=Object.keys(t)[n],o=t[r];o.length<3&&o.push(a()),t[r]=o}return t}}},39:function(e,t,n){},58:function(e,t,n){e.exports=n.p+"static/media/card_flip.63e37b8e.mp3"},59:function(e,t,n){e.exports=n.p+"static/media/card_flip2.e1b8fb14.mp3"},60:function(e,t,n){e.exports=n.p+"static/media/card_drop.f8713f77.mp3"},61:function(e,t,n){e.exports=n.p+"static/media/card_flip3.dff27e09.mp3"},62:function(e,t,n){e.exports=n.p+"static/media/button_click.923d6dfa.mp3"},65:function(e,t,n){e.exports=n.p+"static/media/bg-lower.b0652969.mp3"},66:function(e,t,n){e.exports=n(129)},71:function(e,t,n){},8:function(e,t){e.exports={PLAYER_CONNECTED:"PLAYER_CONNECTED",PLAYER_DISCONNECTED:"PLAYER_DISCONNECTED",VERIFY_USER:"VERIFY_USER",LOGOUT:"LOGOUT",INVITATION:"INVITATION",INVITATION_ACCEPTED:"INVITATION_ACCEPTED",GAME_STARTED:"GAME_STARTED",GAME_MOVE:"GAME_MOVE",WIN:"WIN",REFRESH_PLAYERS:"REFRESH_PLAYERS",GAME_CREATED:"GAME_CREATED",WALKTHROUGH_READY:"WALKTHROUGH_READY"}},84:function(e,t){e.exports={roundAndConvertVolume:function(e){return Math.round(10*parseInt(e)/100)/10}}},85:function(e,t,n){},87:function(e,t,n){},91:function(e,t,n){},92:function(e,t){e.exports={Result:{GAME_TIE:"GAME_TIE",TURN_WIN:"TURN_WIN",TURN_TIE:"TURN_TIE",GAME_WIN:"GAME_WIN",NOTHING:"NOTHING"}}},99:function(e,t,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.23d4c0b1.chunk.js.map